Resources:
  Vpc8378EB38:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsHostnames: true
      EnableDnsSupport: true
      InstanceTenancy: default
      Tags:
        - Key: Name
          Value: E2eStack/Vpc
    Metadata:
      aws:cdk:path: E2eStack/Vpc/Resource
  VpcPublicSubnet1Subnet5C2D37C4:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.0.0/18
      VpcId:
        Ref: Vpc8378EB38
      AvailabilityZone:
        Fn::Select:
          - 0
          - Fn::GetAZs: ""
      MapPublicIpOnLaunch: true
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Public
        - Key: aws-cdk:subnet-type
          Value: Public
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/Subnet
  VpcPublicSubnet1RouteTable6C95E38E:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: Vpc8378EB38
      Tags:
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/RouteTable
  VpcPublicSubnet1RouteTableAssociation97140677:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VpcPublicSubnet1RouteTable6C95E38E
      SubnetId:
        Ref: VpcPublicSubnet1Subnet5C2D37C4
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/RouteTableAssociation
  VpcPublicSubnet1DefaultRoute3DA9E72A:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VpcPublicSubnet1RouteTable6C95E38E
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: VpcIGWD7BA715C
    DependsOn:
      - VpcVPCGWBF912B6E
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/DefaultRoute
  VpcPublicSubnet1EIPD7E02669:
    Type: AWS::EC2::EIP
    Properties:
      Domain: vpc
      Tags:
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/EIP
  VpcPublicSubnet1NATGateway4D7517AA:
    Type: AWS::EC2::NatGateway
    Properties:
      SubnetId:
        Ref: VpcPublicSubnet1Subnet5C2D37C4
      AllocationId:
        Fn::GetAtt:
          - VpcPublicSubnet1EIPD7E02669
          - AllocationId
      Tags:
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet1/NATGateway
  VpcPublicSubnet2Subnet691E08A3:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.64.0/18
      VpcId:
        Ref: Vpc8378EB38
      AvailabilityZone:
        Fn::Select:
          - 1
          - Fn::GetAZs: ""
      MapPublicIpOnLaunch: true
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Public
        - Key: aws-cdk:subnet-type
          Value: Public
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet2
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet2/Subnet
  VpcPublicSubnet2RouteTable94F7E489:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: Vpc8378EB38
      Tags:
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PublicSubnet2
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet2/RouteTable
  VpcPublicSubnet2RouteTableAssociationDD5762D8:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VpcPublicSubnet2RouteTable94F7E489
      SubnetId:
        Ref: VpcPublicSubnet2Subnet691E08A3
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet2/RouteTableAssociation
  VpcPublicSubnet2DefaultRoute97F91067:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VpcPublicSubnet2RouteTable94F7E489
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: VpcIGWD7BA715C
    DependsOn:
      - VpcVPCGWBF912B6E
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PublicSubnet2/DefaultRoute
  VpcPrivateSubnet1Subnet536B997A:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.128.0/18
      VpcId:
        Ref: Vpc8378EB38
      AvailabilityZone:
        Fn::Select:
          - 0
          - Fn::GetAZs: ""
      MapPublicIpOnLaunch: false
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Private
        - Key: aws-cdk:subnet-type
          Value: Private
        - Key: kubernetes.io/cluster/KaravelE2e
          Value: "1"
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PrivateSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet1/Subnet
  VpcPrivateSubnet1RouteTableB2C5B500:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: Vpc8378EB38
      Tags:
        - Key: kubernetes.io/cluster/KaravelE2e
          Value: "1"
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PrivateSubnet1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet1/RouteTable
  VpcPrivateSubnet1RouteTableAssociation70C59FA6:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VpcPrivateSubnet1RouteTableB2C5B500
      SubnetId:
        Ref: VpcPrivateSubnet1Subnet536B997A
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet1/RouteTableAssociation
  VpcPrivateSubnet1DefaultRouteBE02A9ED:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VpcPrivateSubnet1RouteTableB2C5B500
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId:
        Ref: VpcPublicSubnet1NATGateway4D7517AA
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet1/DefaultRoute
  VpcPrivateSubnet2Subnet3788AAA1:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.192.0/18
      VpcId:
        Ref: Vpc8378EB38
      AvailabilityZone:
        Fn::Select:
          - 1
          - Fn::GetAZs: ""
      MapPublicIpOnLaunch: false
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Private
        - Key: aws-cdk:subnet-type
          Value: Private
        - Key: kubernetes.io/cluster/KaravelE2e
          Value: "1"
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PrivateSubnet2
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet2/Subnet
  VpcPrivateSubnet2RouteTableA678073B:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: Vpc8378EB38
      Tags:
        - Key: kubernetes.io/cluster/KaravelE2e
          Value: "1"
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: E2eStack/Vpc/PrivateSubnet2
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet2/RouteTable
  VpcPrivateSubnet2RouteTableAssociationA89CAD56:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VpcPrivateSubnet2RouteTableA678073B
      SubnetId:
        Ref: VpcPrivateSubnet2Subnet3788AAA1
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet2/RouteTableAssociation
  VpcPrivateSubnet2DefaultRoute060D2087:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VpcPrivateSubnet2RouteTableA678073B
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId:
        Ref: VpcPublicSubnet1NATGateway4D7517AA
    Metadata:
      aws:cdk:path: E2eStack/Vpc/PrivateSubnet2/DefaultRoute
  VpcIGWD7BA715C:
    Type: AWS::EC2::InternetGateway
    Properties:
      Tags:
        - Key: Name
          Value: E2eStack/Vpc
    Metadata:
      aws:cdk:path: E2eStack/Vpc/IGW
  VpcVPCGWBF912B6E:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
      VpcId:
        Ref: Vpc8378EB38
      InternetGatewayId:
        Ref: VpcIGWD7BA715C
    Metadata:
      aws:cdk:path: E2eStack/Vpc/VPCGW
  S3EndpointD570F362:
    Type: AWS::EC2::VPCEndpoint
    Properties:
      ServiceName:
        Fn::Join:
          - ""
          - - com.amazonaws.
            - Ref: AWS::Region
            - .s3
      VpcId:
        Ref: Vpc8378EB38
      RouteTableIds:
        - Ref: VpcPrivateSubnet1RouteTableB2C5B500
        - Ref: VpcPrivateSubnet2RouteTableA678073B
        - Ref: VpcPublicSubnet1RouteTable6C95E38E
        - Ref: VpcPublicSubnet2RouteTable94F7E489
      VpcEndpointType: Gateway
    Metadata:
      aws:cdk:path: E2eStack/S3Endpoint/Resource
  DynamoEndpointF5D8FFE3:
    Type: AWS::EC2::VPCEndpoint
    Properties:
      ServiceName:
        Fn::Join:
          - ""
          - - com.amazonaws.
            - Ref: AWS::Region
            - .dynamodb
      VpcId:
        Ref: Vpc8378EB38
      RouteTableIds:
        - Ref: VpcPrivateSubnet1RouteTableB2C5B500
        - Ref: VpcPrivateSubnet2RouteTableA678073B
        - Ref: VpcPublicSubnet1RouteTable6C95E38E
        - Ref: VpcPublicSubnet2RouteTable94F7E489
      VpcEndpointType: Gateway
    Metadata:
      aws:cdk:path: E2eStack/DynamoEndpoint/Resource
  ClusterRoleFA261979:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: eks.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSClusterPolicy
    Metadata:
      aws:cdk:path: E2eStack/Cluster/Role/Resource
  ClusterControlPlaneSecurityGroupD274242C:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: EKS Control Plane Security Group
      SecurityGroupEgress:
        - CidrIp: 0.0.0.0/0
          Description: Allow all outbound traffic by default
          IpProtocol: "-1"
      VpcId:
        Ref: Vpc8378EB38
    Metadata:
      aws:cdk:path: E2eStack/Cluster/ControlPlaneSecurityGroup/Resource
  ClusterCreationRole360249B6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    DependsOn:
      - VpcIGWD7BA715C
      - VpcPrivateSubnet1DefaultRouteBE02A9ED
      - VpcPrivateSubnet1RouteTableB2C5B500
      - VpcPrivateSubnet1RouteTableAssociation70C59FA6
      - VpcPrivateSubnet1Subnet536B997A
      - VpcPrivateSubnet2DefaultRoute060D2087
      - VpcPrivateSubnet2RouteTableA678073B
      - VpcPrivateSubnet2RouteTableAssociationA89CAD56
      - VpcPrivateSubnet2Subnet3788AAA1
      - VpcPublicSubnet1DefaultRoute3DA9E72A
      - VpcPublicSubnet1EIPD7E02669
      - VpcPublicSubnet1NATGateway4D7517AA
      - VpcPublicSubnet1RouteTable6C95E38E
      - VpcPublicSubnet1RouteTableAssociation97140677
      - VpcPublicSubnet1Subnet5C2D37C4
      - VpcPublicSubnet2DefaultRoute97F91067
      - VpcPublicSubnet2RouteTable94F7E489
      - VpcPublicSubnet2RouteTableAssociationDD5762D8
      - VpcPublicSubnet2Subnet691E08A3
      - Vpc8378EB38
      - VpcVPCGWBF912B6E
    Metadata:
      aws:cdk:path: E2eStack/Cluster/Resource/CreationRole/Resource
  ClusterCreationRoleDefaultPolicyE8BDFC7B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: iam:PassRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - ClusterRoleFA261979
                - Arn
          - Action:
              - eks:CreateCluster
              - eks:DescribeCluster
              - eks:DescribeUpdate
              - eks:DeleteCluster
              - eks:UpdateClusterVersion
              - eks:UpdateClusterConfig
              - eks:CreateFargateProfile
              - eks:TagResource
              - eks:UntagResource
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":eks:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :cluster/KaravelE2e
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":eks:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :cluster/KaravelE2e/*
          - Action:
              - eks:DescribeFargateProfile
              - eks:DeleteFargateProfile
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":eks:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :fargateprofile/KaravelE2e/*
          - Action:
              - iam:GetRole
              - iam:listAttachedRolePolicies
            Effect: Allow
            Resource: "*"
          - Action: iam:CreateServiceLinkedRole
            Effect: Allow
            Resource: "*"
          - Action:
              - ec2:DescribeInstances
              - ec2:DescribeNetworkInterfaces
              - ec2:DescribeSecurityGroups
              - ec2:DescribeSubnets
              - ec2:DescribeRouteTables
              - ec2:DescribeDhcpOptions
              - ec2:DescribeVpcs
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: ClusterCreationRoleDefaultPolicyE8BDFC7B
      Roles:
        - Ref: ClusterCreationRole360249B6
    DependsOn:
      - VpcIGWD7BA715C
      - VpcPrivateSubnet1DefaultRouteBE02A9ED
      - VpcPrivateSubnet1RouteTableB2C5B500
      - VpcPrivateSubnet1RouteTableAssociation70C59FA6
      - VpcPrivateSubnet1Subnet536B997A
      - VpcPrivateSubnet2DefaultRoute060D2087
      - VpcPrivateSubnet2RouteTableA678073B
      - VpcPrivateSubnet2RouteTableAssociationA89CAD56
      - VpcPrivateSubnet2Subnet3788AAA1
      - VpcPublicSubnet1DefaultRoute3DA9E72A
      - VpcPublicSubnet1EIPD7E02669
      - VpcPublicSubnet1NATGateway4D7517AA
      - VpcPublicSubnet1RouteTable6C95E38E
      - VpcPublicSubnet1RouteTableAssociation97140677
      - VpcPublicSubnet1Subnet5C2D37C4
      - VpcPublicSubnet2DefaultRoute97F91067
      - VpcPublicSubnet2RouteTable94F7E489
      - VpcPublicSubnet2RouteTableAssociationDD5762D8
      - VpcPublicSubnet2Subnet691E08A3
      - Vpc8378EB38
      - VpcVPCGWBF912B6E
    Metadata:
      aws:cdk:path: E2eStack/Cluster/Resource/CreationRole/DefaultPolicy/Resource
  Cluster9EE0221C:
    Type: Custom::AWSCDK-EKS-Cluster
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454
          - Outputs.E2eStackawscdkawseksClusterResourceProviderframeworkonEvent97E73ECEArn
      Config:
        name: KaravelE2e
        version: "1.21"
        roleArn:
          Fn::GetAtt:
            - ClusterRoleFA261979
            - Arn
        resourcesVpcConfig:
          subnetIds:
            - Ref: VpcPublicSubnet1Subnet5C2D37C4
            - Ref: VpcPublicSubnet2Subnet691E08A3
            - Ref: VpcPrivateSubnet1Subnet536B997A
            - Ref: VpcPrivateSubnet2Subnet3788AAA1
          securityGroupIds:
            - Fn::GetAtt:
                - ClusterControlPlaneSecurityGroupD274242C
                - GroupId
          endpointPublicAccess: true
          endpointPrivateAccess: true
      AssumeRoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      AttributesRevision: 2
    DependsOn:
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - VpcIGWD7BA715C
      - VpcPrivateSubnet1DefaultRouteBE02A9ED
      - VpcPrivateSubnet1RouteTableB2C5B500
      - VpcPrivateSubnet1RouteTableAssociation70C59FA6
      - VpcPrivateSubnet1Subnet536B997A
      - VpcPrivateSubnet2DefaultRoute060D2087
      - VpcPrivateSubnet2RouteTableA678073B
      - VpcPrivateSubnet2RouteTableAssociationA89CAD56
      - VpcPrivateSubnet2Subnet3788AAA1
      - VpcPublicSubnet1DefaultRoute3DA9E72A
      - VpcPublicSubnet1EIPD7E02669
      - VpcPublicSubnet1NATGateway4D7517AA
      - VpcPublicSubnet1RouteTable6C95E38E
      - VpcPublicSubnet1RouteTableAssociation97140677
      - VpcPublicSubnet1Subnet5C2D37C4
      - VpcPublicSubnet2DefaultRoute97F91067
      - VpcPublicSubnet2RouteTable94F7E489
      - VpcPublicSubnet2RouteTableAssociationDD5762D8
      - VpcPublicSubnet2Subnet691E08A3
      - Vpc8378EB38
      - VpcVPCGWBF912B6E
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Cluster/Resource/Resource/Default
  ClusterKubectlReadyBarrier200052AF:
    Type: AWS::SSM::Parameter
    Properties:
      Type: String
      Value: aws:cdk:eks:kubectl-ready
    DependsOn:
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
    Metadata:
      aws:cdk:path: E2eStack/Cluster/KubectlReadyBarrier
  ClusterMastersRole9AA35625:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: E2eStack/Cluster/MastersRole/Resource
  ClusterAwsAuthmanifestFE51F8AE:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.E2eStackawscdkawseksKubectlProviderframeworkonEventCDC1C113Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ConfigMap","metadata":{"name":"aws-auth","namespace":"kube-system","labels":{"aws.cdk.eks/prune-c8db1a41977ff3a6435bd22ea42ecf64100702d783":""}},"data":{"mapRoles":"[{\"rolearn\":\"'
            - Fn::GetAtt:
                - ClusterMastersRole9AA35625
                - Arn
            - \",\"username\":\"
            - Fn::GetAtt:
                - ClusterMastersRole9AA35625
                - Arn
            - \",\"groups\":[\"system:masters\"]},{\"rolearn\":\"
            - Fn::GetAtt:
                - ClusterNodegroupDefaultCapacityNodeGroupRole55953B04
                - Arn
            - \",\"username\":\"system:node:{{EC2PrivateDNSName}}\",\"groups\":[\"system:bootstrappers\",\"system:nodes\"]},{\"rolearn\":\"
            - Fn::GetAtt:
                - ClusterNodegroupOtherNodeGroupRoleDD48F3BB
                - Arn
            - \",\"username\":\"system:node:{{EC2PrivateDNSName}}\",\"groups\":[\"system:bootstrappers\",\"system:nodes\"]}]","mapUsers":"[]","mapAccounts":"[]"}}]
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8db1a41977ff3a6435bd22ea42ecf64100702d783
      Overwrite: true
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Cluster/AwsAuth/manifest/Resource/Default
  ClusterNodegroupDefaultCapacityNodeGroupRole55953B04:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service:
                Fn::Join:
                  - ""
                  - - ec2.
                    - Ref: AWS::URLSuffix
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSWorkerNodePolicy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKS_CNI_Policy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEC2ContainerRegistryReadOnly
    Metadata:
      aws:cdk:path: E2eStack/Cluster/NodegroupDefaultCapacity/NodeGroupRole/Resource
  ClusterNodegroupDefaultCapacityDA0920A3:
    Type: AWS::EKS::Nodegroup
    Properties:
      ClusterName:
        Ref: Cluster9EE0221C
      NodeRole:
        Fn::GetAtt:
          - ClusterNodegroupDefaultCapacityNodeGroupRole55953B04
          - Arn
      Subnets:
        - Ref: VpcPrivateSubnet1Subnet536B997A
        - Ref: VpcPrivateSubnet2Subnet3788AAA1
      AmiType: AL2_x86_64
      ForceUpdateEnabled: true
      InstanceTypes:
        - m5a.xlarge
      ScalingConfig:
        DesiredSize: 3
        MaxSize: 3
        MinSize: 3
    Metadata:
      aws:cdk:path: E2eStack/Cluster/NodegroupDefaultCapacity/Resource
  ClusterNodegroupOtherNodeGroupRoleDD48F3BB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service:
                Fn::Join:
                  - ""
                  - - ec2.
                    - Ref: AWS::URLSuffix
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSWorkerNodePolicy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKS_CNI_Policy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEC2ContainerRegistryReadOnly
    Metadata:
      aws:cdk:path: E2eStack/Cluster/NodegroupOther/NodeGroupRole/Resource
  ClusterNodegroupOther0DD0A2A2:
    Type: AWS::EKS::Nodegroup
    Properties:
      ClusterName:
        Ref: Cluster9EE0221C
      NodeRole:
        Fn::GetAtt:
          - ClusterNodegroupOtherNodeGroupRoleDD48F3BB
          - Arn
      Subnets:
        - Ref: VpcPrivateSubnet1Subnet536B997A
        - Ref: VpcPrivateSubnet2Subnet3788AAA1
      AmiType: AL2_x86_64
      CapacityType: SPOT
      ForceUpdateEnabled: true
      InstanceTypes:
        - t3a.large
        - t3a.xlarge
      ScalingConfig:
        DesiredSize: 2
        MaxSize: 4
        MinSize: 2
    Metadata:
      aws:cdk:path: E2eStack/Cluster/NodegroupOther/Resource
  ClusterOpenIdConnectProviderE7EB0530:
    Type: Custom::AWSCDKOpenIdConnectProvider
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0
          - Arn
      ClientIDList:
        - sts.amazonaws.com
      ThumbprintList:
        - 9e99a48a9960b14926bb7f3b02e22da2b0ab7280
      Url:
        Fn::GetAtt:
          - Cluster9EE0221C
          - OpenIdConnectIssuerUrl
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Cluster/OpenIdConnectProvider/Resource/Default
  awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL:
        Fn::Join:
          - ""
          - - https://s3.
            - Ref: AWS::Region
            - "."
            - Ref: AWS::URLSuffix
            - /
            - Ref: AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629S3Bucket8CC4ACA3
            - /
            - Fn::Select:
                - 0
                - Fn::Split:
                    - "||"
                    - Ref: AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629S3VersionKeyBAD7218B
            - Fn::Select:
                - 1
                - Fn::Split:
                    - "||"
                    - Ref: AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629S3VersionKeyBAD7218B
      Parameters:
        referencetoE2eStackClusterCreationRole87782A77Arn:
          Fn::GetAtt:
            - ClusterCreationRole360249B6
            - Arn
        referencetoE2eStackAssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3Bucket16267089Ref:
          Ref: AssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3Bucket1849AE27
        referencetoE2eStackAssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3VersionKey399B4F8DRef:
          Ref: AssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3VersionKey32F26BD5
        referencetoE2eStackAssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3Bucket59FDA59ERef:
          Ref: AssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3Bucket40405135
        referencetoE2eStackAssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3VersionKey70D61F09Ref:
          Ref: AssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3VersionKey50B477EB
        referencetoE2eStackAssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketA45107A8Ref:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43
        referencetoE2eStackAssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKey00026D71Ref:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource
  awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL:
        Fn::Join:
          - ""
          - - https://s3.
            - Ref: AWS::Region
            - "."
            - Ref: AWS::URLSuffix
            - /
            - Ref: AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4S3BucketF39F4E3F
            - /
            - Fn::Select:
                - 0
                - Fn::Split:
                    - "||"
                    - Ref: AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4S3VersionKeyB33EB58E
            - Fn::Select:
                - 1
                - Fn::Split:
                    - "||"
                    - Ref: AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4S3VersionKeyB33EB58E
      Parameters:
        referencetoE2eStackClusterB731B0F9Arn:
          Fn::GetAtt:
            - Cluster9EE0221C
            - Arn
        referencetoE2eStackClusterCreationRole87782A77Arn:
          Fn::GetAtt:
            - ClusterCreationRole360249B6
            - Arn
        referencetoE2eStackAssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3BucketF3569884Ref:
          Ref: AssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3BucketC6FAEEC9
        referencetoE2eStackAssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3VersionKeyB1AA2E1FRef:
          Ref: AssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3VersionKeyA7EE7421
        referencetoE2eStackVpcPrivateSubnet1SubnetFD09D65ARef:
          Ref: VpcPrivateSubnet1Subnet536B997A
        referencetoE2eStackVpcPrivateSubnet2Subnet874328A4Ref:
          Ref: VpcPrivateSubnet2Subnet3788AAA1
        referencetoE2eStackClusterB731B0F9ClusterSecurityGroupId:
          Fn::GetAtt:
            - Cluster9EE0221C
            - ClusterSecurityGroupId
        referencetoE2eStackAssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3Bucket36FF39DARef:
          Ref: AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7
        referencetoE2eStackAssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKey0C572538Ref:
          Ref: AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F
        referencetoE2eStackAssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3Bucket57FA0C72Ref:
          Ref: AssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3BucketD3288998
        referencetoE2eStackAssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3VersionKey77A5C421Ref:
          Ref: AssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3VersionKeyB00C0565
        referencetoE2eStackAssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketA45107A8Ref:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43
        referencetoE2eStackAssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKey00026D71Ref:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource
  ArgoCDSecret7E02AAB1:
    Type: AWS::SecretsManager::Secret
    Properties:
      GenerateSecretString:
        GenerateStringKey: placeholder
        SecretStringTemplate: "{}"
      Name: eks-e2e-cluster/argocd-secret
    Metadata:
      aws:cdk:path: E2eStack/ArgoCD/Secret/Resource
  ArgoCDRepoSecretEF49B80F:
    Type: AWS::SecretsManager::Secret
    Properties:
      GenerateSecretString:
        GenerateStringKey: sshPrivateKey
        SecretStringTemplate: "{}"
      Name: eks-e2e-cluster/argocd-pull-creds
    Metadata:
      aws:cdk:path: E2eStack/ArgoCD/RepoSecret/Resource
  DexSecret603CE742:
    Type: AWS::SecretsManager::Secret
    Properties:
      GenerateSecretString:
        GenerateStringKey: GITHUB_CLIENT_SECRET
        SecretStringTemplate: '{"GITHUB_CLIENT_ID":"change-me"}'
      Name: eks-e2e-cluster/dex-secret
    Metadata:
      aws:cdk:path: E2eStack/Dex/Secret/Resource
  CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Policies:
        - PolicyName: Inline
          PolicyDocument:
            Version: "2012-10-17"
            Statement:
              - Effect: Allow
                Resource: "*"
                Action:
                  - iam:CreateOpenIDConnectProvider
                  - iam:DeleteOpenIDConnectProvider
                  - iam:UpdateOpenIDConnectProviderThumbprint
                  - iam:AddClientIDToOpenIDConnectProvider
                  - iam:RemoveClientIDFromOpenIDConnectProvider
    Metadata:
      aws:cdk:path: E2eStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role
  CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15S3Bucket2010B486
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15S3VersionKey9B3E73DD
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15S3VersionKey9B3E73DD
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65
          - Arn
      Runtime: nodejs12.x
    DependsOn:
      - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65
    Metadata:
      aws:cdk:path: E2eStack/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler
  PrometheusBucketBF0C9860:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: Private
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: karavel-eks-e2e-metrics-prometheus
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 365
            Status: Enabled
            Transitions:
              - StorageClass: INTELLIGENT_TIERING
                TransitionInDays: 0
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Prometheus/Bucket/Resource
  PrometheusProviderIssuerRoleEqualsConditionsA4A957BB:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com"}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Prometheus/ProviderIssuerRoleEqualsConditions/Resource/Default
  PrometheusProviderIssuerRoleLikeConditions0B613F3E:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":["system:serviceaccount:monitoring:prometheus-operated","system:serviceaccount:monitoring:thanos"]}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Prometheus/ProviderIssuerRoleLikeConditions/Resource/Default
  PrometheusRole6DABD715:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - PrometheusProviderIssuerRoleEqualsConditionsA4A957BB
                  - Value
              ForAnyValue:StringLike:
                Fn::GetAtt:
                  - PrometheusProviderIssuerRoleLikeConditions0B613F3E
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - s3:ListBucket
                  - s3:PutObject
                  - s3:GetObject
                  - s3:DeleteObject
                Effect: Allow
                Resource:
                  - Fn::GetAtt:
                      - PrometheusBucketBF0C9860
                      - Arn
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - PrometheusBucketBF0C9860
                            - Arn
                        - /*
            Version: "2012-10-17"
          PolicyName: ObservabilityStorageBucketReadWriteAccess
      RoleName: KaravelE2ePrometheusRole
    Metadata:
      aws:cdk:path: E2eStack/Prometheus/Role/Resource
  AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: E2eStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Role
  AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4S3Bucket3A2B0B46
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4S3VersionKey7A50E10B
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4S3VersionKey7A50E10B
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867
          - Arn
      Runtime: nodejs12.x
    DependsOn:
      - AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867
    Metadata:
      aws:cdk:path: E2eStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Handler
  LokiBucket58A17538:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: Private
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: karavel-eks-e2e-logging-loki
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 365
            Status: Enabled
            Transitions:
              - StorageClass: INTELLIGENT_TIERING
                TransitionInDays: 0
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Loki/Bucket/Resource
  LokiProviderIssuerRoleEqualsConditions7CF4C64C:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com"}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Loki/ProviderIssuerRoleEqualsConditions/Resource/Default
  LokiProviderIssuerRoleLikeConditionsDBB0DC90:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":["system:serviceaccount:monitoring:loki"]}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Loki/ProviderIssuerRoleLikeConditions/Resource/Default
  LokiRoleDC528CC2:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - LokiProviderIssuerRoleEqualsConditions7CF4C64C
                  - Value
              ForAnyValue:StringLike:
                Fn::GetAtt:
                  - LokiProviderIssuerRoleLikeConditionsDBB0DC90
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - s3:ListBucket
                  - s3:PutObject
                  - s3:GetObject
                  - s3:DeleteObject
                Effect: Allow
                Resource:
                  - Fn::GetAtt:
                      - LokiBucket58A17538
                      - Arn
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - LokiBucket58A17538
                            - Arn
                        - /*
            Version: "2012-10-17"
          PolicyName: ObservabilityStorageBucketReadWriteAccess
      RoleName: KaravelE2eLokiRole
    Metadata:
      aws:cdk:path: E2eStack/Loki/Role/Resource
  TempoBucket232AAC1F:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: Private
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: karavel-eks-e2e-tracing-tempo
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 365
            Status: Enabled
            Transitions:
              - StorageClass: INTELLIGENT_TIERING
                TransitionInDays: 0
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Tempo/Bucket/Resource
  TempoProviderIssuerRoleEqualsConditionsFE9FD932:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com"}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Tempo/ProviderIssuerRoleEqualsConditions/Resource/Default
  TempoProviderIssuerRoleLikeConditions1B31C60F:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":["system:serviceaccount:monitoring:tempo"]}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/Tempo/ProviderIssuerRoleLikeConditions/Resource/Default
  TempoRole48E4B052:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - TempoProviderIssuerRoleEqualsConditionsFE9FD932
                  - Value
              ForAnyValue:StringLike:
                Fn::GetAtt:
                  - TempoProviderIssuerRoleLikeConditions1B31C60F
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - s3:ListBucket
                  - s3:PutObject
                  - s3:GetObject
                  - s3:DeleteObject
                Effect: Allow
                Resource:
                  - Fn::GetAtt:
                      - TempoBucket232AAC1F
                      - Arn
                  - Fn::Join:
                      - ""
                      - - Fn::GetAtt:
                            - TempoBucket232AAC1F
                            - Arn
                        - /*
            Version: "2012-10-17"
          PolicyName: ObservabilityStorageBucketReadWriteAccess
      RoleName: KaravelE2eTempoRole
    Metadata:
      aws:cdk:path: E2eStack/Tempo/Role/Resource
  ExternalSecretsProviderIssuerRoleEqualsConditions4B1221F7:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com"}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/ExternalSecrets/ProviderIssuerRoleEqualsConditions/Resource/Default
  ExternalSecretsProviderIssuerRoleLikeConditions25DE1AAD:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":["system:serviceaccount:external-secrets:external-secrets-default-store"]}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/ExternalSecrets/ProviderIssuerRoleLikeConditions/Resource/Default
  ExternalSecretsRole8329C6BA:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ExternalSecretsProviderIssuerRoleEqualsConditions4B1221F7
                  - Value
              ForAnyValue:StringLike:
                Fn::GetAtt:
                  - ExternalSecretsProviderIssuerRoleLikeConditions25DE1AAD
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - secretsmanager:GetResourcePolicy
                  - secretsmanager:GetSecretValue
                  - secretsmanager:DescribeSecret
                  - secretsmanager:ListSecretVersionIds
                Effect: Allow
                Resource:
                  Fn::Join:
                    - ""
                    - - "arn:"
                      - Ref: AWS::Partition
                      - ":secretsmanager:"
                      - Ref: AWS::Region
                      - ":"
                      - Ref: AWS::AccountId
                      - :secret:*
            Version: "2012-10-17"
          PolicyName: SecretsManagerReadOnlyAccess
      RoleName: KaravelE2eExternalSecretsRole
    Metadata:
      aws:cdk:path: E2eStack/ExternalSecrets/Role/Resource
  ExternalDnsProviderIssuerRoleEqualsConditions0515970C:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com"}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/ExternalDns/ProviderIssuerRoleEqualsConditions/Resource/Default
  ExternalDnsProviderIssuerRoleLikeConditionsCC1081F1:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":["system:serviceaccount:external-dns:external-dns"]}
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: E2eStack/ExternalDns/ProviderIssuerRoleLikeConditions/Resource/Default
  ExternalDnsRoleD2110E9C:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ExternalDnsProviderIssuerRoleEqualsConditions0515970C
                  - Value
              ForAnyValue:StringLike:
                Fn::GetAtt:
                  - ExternalDnsProviderIssuerRoleLikeConditionsCC1081F1
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
      Policies:
        - PolicyDocument:
            Statement:
              - Action: route53:ChangeResourceRecordSets
                Effect: Allow
                Resource:
                  Fn::Join:
                    - ""
                    - - "arn:"
                      - Ref: AWS::Partition
                      - :route53:::hostedzone/Z02598523M9WR611ST687
              - Action:
                  - route53:ListHostedZones
                  - route53:ListResourceRecordSets
                Effect: Allow
                Resource: "*"
            Version: "2012-10-17"
          PolicyName: Route53ReadWriteAccess
      RoleName: KaravelE2eExternalDnsRole
    Metadata:
      aws:cdk:path: E2eStack/ExternalDns/Role/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/11SwW7CMAz9Fu4hrEyadhyrEGLToCoT9zQ1JZQmVeKAUNV/n9MWinby87PjZz8l4tH8jb9MPsTVTWVezhppLPBmh0KWLAVnvJXAYqMdWi+Rxd6hqcbCQT/jrcfaY0D9AAKJsKICBPvvaWLNReVEL5wDpPZC6SI8+HJGh0iauUJldMvCcg3IOW/2tQy1fRKzxGdnJXc+09ArPlBqPMKvyM4w8iNHekYqESY/mgNYrpMQNgJXAuEqbiyx6kJwHLzWdAfhe0O/yZAtkE4+VqCRDQwtu9R5bZTGofWR7kB6q/C2ssbX3ZbPRMugdLyJz+RYcOjqFh6P7NtnnTy4H6HVARyyjcmhuM8Yk20Nep2Tgxok3p1umRIVb1LT+9LFxJCH3SE9apkDaQFdJbQowNJP6PJhRULU8cqbTy/Lnu1R27ZMkzw/udkleqdfxaPJySk1tV6jqoCnffwDXjaCEHECAAA=
    Metadata:
      aws:cdk:path: E2eStack/CDKMetadata/Default
    Condition: CDKMetadataAvailable
Outputs:
  ClusterConfigCommand43AAE40F:
    Value:
      Fn::Join:
        - ""
        - - "aws eks update-kubeconfig --name "
          - Ref: Cluster9EE0221C
          - " --region "
          - Ref: AWS::Region
          - " --role-arn "
          - Fn::GetAtt:
              - ClusterMastersRole9AA35625
              - Arn
  ClusterGetTokenCommand06AE992E:
    Value:
      Fn::Join:
        - ""
        - - "aws eks get-token --cluster-name "
          - Ref: Cluster9EE0221C
          - " --region "
          - Ref: AWS::Region
          - " --role-arn "
          - Fn::GetAtt:
              - ClusterMastersRole9AA35625
              - Arn
  PrometheusBucketArn77FF75FD:
    Description: ARN of the Prometheus bucket
    Value:
      Fn::GetAtt:
        - PrometheusBucketBF0C9860
        - Arn
  PrometheusRoleArnF2568F09:
    Description: ARN of the Prometheus role
    Value:
      Fn::GetAtt:
        - PrometheusRole6DABD715
        - Arn
  LokiBucketArn8E38D812:
    Description: ARN of the Loki bucket
    Value:
      Fn::GetAtt:
        - LokiBucket58A17538
        - Arn
  LokiRoleArn119694CB:
    Description: ARN of the Loki role
    Value:
      Fn::GetAtt:
        - LokiRoleDC528CC2
        - Arn
  TempoBucketArn129F37E7:
    Description: ARN of the Tempo bucket
    Value:
      Fn::GetAtt:
        - TempoBucket232AAC1F
        - Arn
  TempoRoleArnF045D6CB:
    Description: ARN of the Tempo role
    Value:
      Fn::GetAtt:
        - TempoRole48E4B052
        - Arn
Parameters:
  AssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3Bucket1849AE27:
    Type: String
    Description: S3 bucket for asset "8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70"
  AssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70S3VersionKey32F26BD5:
    Type: String
    Description: S3 key for asset version "8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70"
  AssetParameters8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70ArtifactHash58808AF0:
    Type: String
    Description: Artifact hash for asset "8e8852f996da1b4a3ea2442a070d517350e11aff7dd93e6aee27538b88143e70"
  AssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3Bucket40405135:
    Type: String
    Description: S3 bucket for asset "ca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864cc"
  AssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccS3VersionKey50B477EB:
    Type: String
    Description: S3 key for asset version "ca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864cc"
  AssetParametersca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864ccArtifactHashCC7E7A09:
    Type: String
    Description: Artifact hash for asset "ca2c913ffc0cd2016ee8bae9a571d12d6eca2284408cb99dd0ebff5b061864cc"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43:
    Type: String
    Description: S3 bucket for asset "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7:
    Type: String
    Description: S3 key for asset version "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cArtifactHash627DAAA7:
    Type: String
    Description: Artifact hash for asset "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3BucketC6FAEEC9:
    Type: String
    Description: S3 bucket for asset "4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10"
  AssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10S3VersionKeyA7EE7421:
    Type: String
    Description: S3 key for asset version "4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10"
  AssetParameters4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10ArtifactHash528547CD:
    Type: String
    Description: Artifact hash for asset "4129bbca38164ecb28fee8e5b674f0d05e5957b4b8ed97d9c950527b5cc4ce10"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7:
    Type: String
    Description: S3 bucket for asset "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F:
    Type: String
    Description: S3 key for asset version "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3:
    Type: String
    Description: Artifact hash for asset "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3BucketD3288998:
    Type: String
    Description: S3 bucket for asset "ea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03e"
  AssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eS3VersionKeyB00C0565:
    Type: String
    Description: S3 key for asset version "ea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03e"
  AssetParametersea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03eArtifactHash4654D012:
    Type: String
    Description: Artifact hash for asset "ea17febe6d04c66048f3e8e060c71685c0cb53122abceff44842d27bc0d4a03e"
  AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15S3Bucket2010B486:
    Type: String
    Description: S3 bucket for asset "ff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15"
  AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15S3VersionKey9B3E73DD:
    Type: String
    Description: S3 key for asset version "ff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15"
  AssetParametersff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15ArtifactHashD83177FF:
    Type: String
    Description: Artifact hash for asset "ff8d00f9cedcafaf1ab299446ed2500b61b0b88ab40f066d05b26ff66bd58b15"
  AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4S3Bucket3A2B0B46:
    Type: String
    Description: S3 bucket for asset "43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4"
  AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4S3VersionKey7A50E10B:
    Type: String
    Description: S3 key for asset version "43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4"
  AssetParameters43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4ArtifactHashCB97A4BE:
    Type: String
    Description: Artifact hash for asset "43079f879513e0d85eeb42ddfe71e5ead66edf1ee02c33bb165d7c2f926030c4"
  AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629S3Bucket8CC4ACA3:
    Type: String
    Description: S3 bucket for asset "e36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629"
  AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629S3VersionKeyBAD7218B:
    Type: String
    Description: S3 key for asset version "e36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629"
  AssetParameterse36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629ArtifactHashD8CB8ADE:
    Type: String
    Description: Artifact hash for asset "e36a01b2226cd3b41e186ddb3d69a7c4b7c720f68b10fbc00e578714dc33e629"
  AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4S3BucketF39F4E3F:
    Type: String
    Description: S3 bucket for asset "287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4"
  AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4S3VersionKeyB33EB58E:
    Type: String
    Description: S3 key for asset version "287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4"
  AssetParameters287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4ArtifactHashFB0C57D2:
    Type: String
    Description: Artifact hash for asset "287ae144c91a9d9888ce3e0a80d821341625234d4ff08e810e86234404d1bed4"
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-2

