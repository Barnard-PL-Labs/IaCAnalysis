Resources:
  outgoingWav9BE8D299:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: "true"
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/outgoingWav/Resource
  outgoingWavPolicy41478E50:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: outgoingWav9BE8D299
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - outgoingWav9BE8D299
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - outgoingWav9BE8D299
                        - Arn
                    - /*
          - Action:
              - s3:GetObject
              - s3:PutObject
              - s3:PutObjectAcl
            Effect: Allow
            Principal:
              Service: voiceconnector.chime.amazonaws.com
            Resource:
              - Fn::GetAtt:
                  - outgoingWav9BE8D299
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - outgoingWav9BE8D299
                        - Arn
                    - /*
            Sid: SIPMediaApplicationRead
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/outgoingWav/Policy/Resource
  outgoingWavAutoDeleteObjectsCustomResource1A9A8D80:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: outgoingWav9BE8D299
    DependsOn:
      - outgoingWavPolicy41478E50
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/outgoingWav/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs12.x
      Description:
        Fn::Join:
          - ""
          - - "Lambda function for auto-deleting objects in "
            - Ref: outgoingWav9BE8D299
            - " S3 bucket."
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
  WavDeployAwsCliLayerA24B203D:
    Type: AWS::Lambda::LayerVersion
    Properties:
      Content:
        S3Bucket:
          Ref: AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F
      Description: /opt/awscli/aws
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/WavDeploy/AwsCliLayer/Resource
      aws:asset:path: asset.e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68.zip
      aws:asset:property: Content
  WavDeployCustomResource6C919564:
    Type: Custom::CDKBucketDeployment
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536
          - Arn
      SourceBucketNames:
        - Ref: AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3Bucket48CD7EAC
      SourceObjectKeys:
        - Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3VersionKeyD437EC98
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3VersionKeyD437EC98
      DestinationBucketName:
        Ref: outgoingWav9BE8D299
      Prune: true
      SystemMetadata:
        content-type: audio/wav
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/WavDeploy/CustomResource/Default
  CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource
  CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":s3:::"
                    - Ref: AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3Bucket48CD7EAC
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":s3:::"
                    - Ref: AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3Bucket48CD7EAC
                    - /*
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
              - s3:PutObject
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - outgoingWav9BE8D299
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - outgoingWav9BE8D299
                        - Arn
                    - /*
        Version: "2012-10-17"
      PolicyName: CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF
      Roles:
        - Ref: CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource
  CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70
      Role:
        Fn::GetAtt:
          - CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265
          - Arn
      Handler: index.handler
      Layers:
        - Ref: WavDeployAwsCliLayerA24B203D
      Runtime: python3.7
      Timeout: 900
    DependsOn:
      - CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF
      - CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource
      aws:asset:path: asset.a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8
      aws:asset:property: Code
  calledNumberBA901E2D:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: dialed_number
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: dialed_number
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/calledNumber/Resource
  smaLambdaRole1E9776E9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/smaLambdaRole/Resource
  smaLambdaRoleDefaultPolicyD7CF6277:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:BatchGetItem
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:Query
              - dynamodb:GetItem
              - dynamodb:Scan
              - dynamodb:ConditionCheckItem
              - dynamodb:BatchWriteItem
              - dynamodb:PutItem
              - dynamodb:UpdateItem
              - dynamodb:DeleteItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - calledNumberBA901E2D
                  - Arn
              - Ref: AWS::NoValue
        Version: "2012-10-17"
      PolicyName: smaLambdaRoleDefaultPolicyD7CF6277
      Roles:
        - Ref: smaLambdaRole1E9776E9
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/smaLambdaRole/DefaultPolicy/Resource
  handlerLambdaRole507CDA4C:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - chime:ListVoiceConnectors
                  - chime:ListPhoneNumbers
                  - chime:GetPhoneNumber
                  - chime:UpdateSipRule
                  - chime:DeleteSipRule
                  - chime:UpdatePhoneNumber
                  - chime:AssociatePhoneNumbersWithVoiceConnector
                  - chime:DisassociatePhoneNumbersFromVoiceConnector
                  - chime:GetSipMediaApplication
                  - chime:CreateSipRule
                Effect: Allow
                Resource: "*"
            Version: "2012-10-17"
          PolicyName: chimePolicy
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/handlerLambdaRole/Resource
  handlerLambdaRoleDefaultPolicy5E8CD534:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:BatchGetItem
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:Query
              - dynamodb:GetItem
              - dynamodb:Scan
              - dynamodb:ConditionCheckItem
              - dynamodb:BatchWriteItem
              - dynamodb:PutItem
              - dynamodb:UpdateItem
              - dynamodb:DeleteItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - calledNumberBA901E2D
                  - Arn
              - Ref: AWS::NoValue
        Version: "2012-10-17"
      PolicyName: handlerLambdaRoleDefaultPolicy5E8CD534
      Roles:
        - Ref: handlerLambdaRole507CDA4C
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/handlerLambdaRole/DefaultPolicy/Resource
  createChimeLambdaRole7FBF3767:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Policies:
        - PolicyDocument:
            Statement:
              - Action:
                  - chime:CreateVoiceConnector
                  - chime:GetVoiceConnector
                  - chime:UpdateVoiceConnector
                  - chime:CreateSipMediaApplication
                  - chime:CreateSipRule
                  - chime:GetSipMediaApplication
                  - chime:GetSipRule
                  - chime:UpdateSipMediaApplication
                  - chime:UpdateSipRule
                  - chime:AssociatePhoneNumbersWithVoiceConnector
                  - chime:CreatePhoneNumberOrder
                  - chime:GetPhoneNumber
                  - chime:GetPhoneNumberOrder
                  - chime:SearchAvailablePhoneNumbers
                  - chime:UpdatePhoneNumber
                  - lambda:GetPolicy
                  - lambda:AddPermission
                Effect: Allow
                Resource: "*"
            Version: "2012-10-17"
          PolicyName: chimePolicy
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/createChimeLambdaRole/Resource
  smaLambdaF902E845:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73S3Bucket64FA3F7C
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73S3VersionKey9E5B5731
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73S3VersionKey9E5B5731
      Role:
        Fn::GetAtt:
          - smaLambdaRole1E9776E9
          - Arn
      Environment:
        Variables:
          CallForwardingTableName:
            Ref: calledNumberBA901E2D
          WavBucketName:
            Ref: outgoingWav9BE8D299
          LoopGreetingWhileRinging: "True"
      Handler: callForwardingSMA.lambda_handler
      Runtime: python3.8
      Timeout: 6
    DependsOn:
      - smaLambdaRoleDefaultPolicyD7CF6277
      - smaLambdaRole1E9776E9
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/smaLambda/Resource
      aws:asset:path: asset.9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73
      aws:asset:property: Code
  createSMALambda7D2D7A7E:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224S3Bucket5C24E5FD
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224S3VersionKey06723F9D
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224S3VersionKey06723F9D
      Role:
        Fn::GetAtt:
          - createChimeLambdaRole7FBF3767
          - Arn
      Handler: createChimeSMAResources.on_event
      Runtime: python3.8
      Timeout: 60
    DependsOn:
      - createChimeLambdaRole7FBF3767
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/createSMALambda/Resource
      aws:asset:path: asset.fab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224
      aws:asset:property: Code
  chimeProviderframeworkonEventServiceRoleBCACBEC2:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeProvider/framework-onEvent/ServiceRole/Resource
  chimeProviderframeworkonEventServiceRoleDefaultPolicy7114AD90:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: lambda:InvokeFunction
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - createSMALambda7D2D7A7E
                - Arn
        Version: "2012-10-17"
      PolicyName: chimeProviderframeworkonEventServiceRoleDefaultPolicy7114AD90
      Roles:
        - Ref: chimeProviderframeworkonEventServiceRoleBCACBEC2
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource
  chimeProviderframeworkonEventE311E5A5:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
      Role:
        Fn::GetAtt:
          - chimeProviderframeworkonEventServiceRoleBCACBEC2
          - Arn
      Description: AWS CDK resource provider framework - onEvent (CallForwardingWithSMAStack/chimeProvider)
      Environment:
        Variables:
          USER_ON_EVENT_FUNCTION_ARN:
            Fn::GetAtt:
              - createSMALambda7D2D7A7E
              - Arn
      Handler: framework.onEvent
      Runtime: nodejs12.x
      Timeout: 900
    DependsOn:
      - chimeProviderframeworkonEventServiceRoleDefaultPolicy7114AD90
      - chimeProviderframeworkonEventServiceRoleBCACBEC2
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeProvider/framework-onEvent/Resource
      aws:asset:path: asset.c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c
      aws:asset:property: Code
  smaResources:
    Type: AWS::CloudFormation::CustomResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - chimeProviderframeworkonEventE311E5A5
          - Arn
      lambdaArn:
        Fn::GetAtt:
          - smaLambdaF902E845
          - Arn
      region:
        Ref: AWS::Region
      smaName: CallForwardingWithSMAStack-callForward
      phoneNumberRequired: true
    DependsOn:
      - smaLambdaF902E845
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/smaResources/Default
  handlerLambdaA3FEF454:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584S3Bucket967C16E9
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584S3VersionKey96393B79
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584S3VersionKey96393B79
      Role:
        Fn::GetAtt:
          - handlerLambdaRole507CDA4C
          - Arn
      Environment:
        Variables:
          CallForwardingTableName:
            Ref: calledNumberBA901E2D
          SMA_ID:
            Fn::GetAtt:
              - smaResources
              - smaID
      Handler: callForwardHandler.lambda_handler
      Runtime: python3.8
      Timeout: 10
    DependsOn:
      - handlerLambdaRoleDefaultPolicy5E8CD534
      - handlerLambdaRole507CDA4C
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/handlerLambda/Resource
      aws:asset:path: asset.ac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584
      aws:asset:property: Code
  createVCLambdaD58B63F7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafS3BucketDCE03ECB
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafS3VersionKey2404CD3E
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafS3VersionKey2404CD3E
      Role:
        Fn::GetAtt:
          - createChimeLambdaRole7FBF3767
          - Arn
      Handler: createChimeVCResources.on_event
      Runtime: python3.8
      Timeout: 60
    DependsOn:
      - createChimeLambdaRole7FBF3767
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/createVCLambda/Resource
      aws:asset:path: asset.296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abaf
      aws:asset:property: Code
  chimeVCProviderframeworkonEventServiceRole2D01E471:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeVCProvider/framework-onEvent/ServiceRole/Resource
  chimeVCProviderframeworkonEventServiceRoleDefaultPolicyE98C4F1C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: lambda:InvokeFunction
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - createVCLambdaD58B63F7
                - Arn
        Version: "2012-10-17"
      PolicyName: chimeVCProviderframeworkonEventServiceRoleDefaultPolicyE98C4F1C
      Roles:
        - Ref: chimeVCProviderframeworkonEventServiceRole2D01E471
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeVCProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource
  chimeVCProviderframeworkonEventCF525A3C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7
      Role:
        Fn::GetAtt:
          - chimeVCProviderframeworkonEventServiceRole2D01E471
          - Arn
      Description: AWS CDK resource provider framework - onEvent (CallForwardingWithSMAStack/chimeVCProvider)
      Environment:
        Variables:
          USER_ON_EVENT_FUNCTION_ARN:
            Fn::GetAtt:
              - createVCLambdaD58B63F7
              - Arn
      Handler: framework.onEvent
      Runtime: nodejs12.x
      Timeout: 900
    DependsOn:
      - chimeVCProviderframeworkonEventServiceRoleDefaultPolicyE98C4F1C
      - chimeVCProviderframeworkonEventServiceRole2D01E471
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/chimeVCProvider/framework-onEvent/Resource
      aws:asset:path: asset.c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c
      aws:asset:property: Code
  outboundSMA:
    Type: AWS::CloudFormation::CustomResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - chimeVCProviderframeworkonEventCF525A3C
          - Arn
      region:
        Ref: AWS::Region
    DependsOn:
      - smaLambdaF902E845
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/outboundSMA/Default
  workWithChime4B2E2E9F:
    Type: AWS::ApiGateway::RestApi
    Properties:
      EndpointConfiguration:
        Types:
          - REGIONAL
      Name: workWithChime
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Resource
  workWithChimeCloudWatchRole9E74720D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: apigateway.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/CloudWatchRole/Resource
  workWithChimeAccountFEF7F7E9:
    Type: AWS::ApiGateway::Account
    Properties:
      CloudWatchRoleArn:
        Fn::GetAtt:
          - workWithChimeCloudWatchRole9E74720D
          - Arn
    DependsOn:
      - workWithChime4B2E2E9F
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Account
  workWithChimeDeployment22AC4EF0c421e648d4461394dbeebdaf842c0dc2:
    Type: AWS::ApiGateway::Deployment
    Properties:
      RestApiId:
        Ref: workWithChime4B2E2E9F
      Description: Automatically created by the RestApi construct
    DependsOn:
      - workWithChimelistVoiceConnectorsOPTIONS943F56B1
      - workWithChimelistVoiceConnectorsPOST4BC9112B
      - workWithChimelistVoiceConnectors7BDFEFE9
      - workWithChimequeryNumberOPTIONS2FBE97F5
      - workWithChimequeryNumberPOST4E5EDAA6
      - workWithChimequeryNumberDC638D82
      - workWithChimeupdateNumberOPTIONSFCF2CFCD
      - workWithChimeupdateNumberPOSTE90B9D9A
      - workWithChimeupdateNumber48C021D9
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Deployment/Resource
  workWithChimeDeploymentStageprodA69EA27B:
    Type: AWS::ApiGateway::Stage
    Properties:
      RestApiId:
        Ref: workWithChime4B2E2E9F
      DeploymentId:
        Ref: workWithChimeDeployment22AC4EF0c421e648d4461394dbeebdaf842c0dc2
      StageName: prod
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/DeploymentStage.prod/Resource
  workWithChimeupdateNumber48C021D9:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - workWithChime4B2E2E9F
          - RootResourceId
      PathPart: updateNumber
      RestApiId:
        Ref: workWithChime4B2E2E9F
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/updateNumber/Resource
  workWithChimeupdateNumberPOSTApiPermissionCallForwardingWithSMAStackworkWithChime57061B52POSTupdateNumber1CE801A7:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /
            - Ref: workWithChimeDeploymentStageprodA69EA27B
            - /POST/updateNumber
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/updateNumber/POST/ApiPermission.CallForwardingWithSMAStackworkWithChime57061B52.POST..updateNumber
  workWithChimeupdateNumberPOSTApiPermissionTestCallForwardingWithSMAStackworkWithChime57061B52POSTupdateNumberC34885A3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /test-invoke-stage/POST/updateNumber
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/updateNumber/POST/ApiPermission.Test.CallForwardingWithSMAStackworkWithChime57061B52.POST..updateNumber
  workWithChimeupdateNumberPOSTE90B9D9A:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: POST
      ResourceId:
        Ref: workWithChimeupdateNumber48C021D9
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - handlerLambdaA3FEF454
                  - Arn
              - /invocations
      MethodResponses:
        - StatusCode: "200"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/updateNumber/POST/Resource
  workWithChimeupdateNumberOPTIONSFCF2CFCD:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: workWithChimeupdateNumber48C021D9
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'POST,OPTIONS'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/updateNumber/OPTIONS/Resource
  workWithChimequeryNumberDC638D82:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - workWithChime4B2E2E9F
          - RootResourceId
      PathPart: queryNumber
      RestApiId:
        Ref: workWithChime4B2E2E9F
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/queryNumber/Resource
  workWithChimequeryNumberPOSTApiPermissionCallForwardingWithSMAStackworkWithChime57061B52POSTqueryNumberDE7D3E2B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /
            - Ref: workWithChimeDeploymentStageprodA69EA27B
            - /POST/queryNumber
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/queryNumber/POST/ApiPermission.CallForwardingWithSMAStackworkWithChime57061B52.POST..queryNumber
  workWithChimequeryNumberPOSTApiPermissionTestCallForwardingWithSMAStackworkWithChime57061B52POSTqueryNumber6365F6E0:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /test-invoke-stage/POST/queryNumber
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/queryNumber/POST/ApiPermission.Test.CallForwardingWithSMAStackworkWithChime57061B52.POST..queryNumber
  workWithChimequeryNumberPOST4E5EDAA6:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: POST
      ResourceId:
        Ref: workWithChimequeryNumberDC638D82
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - handlerLambdaA3FEF454
                  - Arn
              - /invocations
      MethodResponses:
        - StatusCode: "200"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/queryNumber/POST/Resource
  workWithChimequeryNumberOPTIONS2FBE97F5:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: workWithChimequeryNumberDC638D82
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'POST,OPTIONS'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/queryNumber/OPTIONS/Resource
  workWithChimelistVoiceConnectors7BDFEFE9:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - workWithChime4B2E2E9F
          - RootResourceId
      PathPart: listVoiceConnectors
      RestApiId:
        Ref: workWithChime4B2E2E9F
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/listVoiceConnectors/Resource
  workWithChimelistVoiceConnectorsPOSTApiPermissionCallForwardingWithSMAStackworkWithChime57061B52POSTlistVoiceConnectors28223C2B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /
            - Ref: workWithChimeDeploymentStageprodA69EA27B
            - /POST/listVoiceConnectors
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/listVoiceConnectors/POST/ApiPermission.CallForwardingWithSMAStackworkWithChime57061B52.POST..listVoiceConnectors
  workWithChimelistVoiceConnectorsPOSTApiPermissionTestCallForwardingWithSMAStackworkWithChime57061B52POSTlistVoiceConnectors22D7F7C9:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - handlerLambdaA3FEF454
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:"
            - Ref: AWS::Region
            - ":"
            - Ref: AWS::AccountId
            - ":"
            - Ref: workWithChime4B2E2E9F
            - /test-invoke-stage/POST/listVoiceConnectors
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/listVoiceConnectors/POST/ApiPermission.Test.CallForwardingWithSMAStackworkWithChime57061B52.POST..listVoiceConnectors
  workWithChimelistVoiceConnectorsPOST4BC9112B:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: POST
      ResourceId:
        Ref: workWithChimelistVoiceConnectors7BDFEFE9
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - ":apigateway:"
              - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - handlerLambdaA3FEF454
                  - Arn
              - /invocations
      MethodResponses:
        - StatusCode: "200"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/listVoiceConnectors/POST/Resource
  workWithChimelistVoiceConnectorsOPTIONS943F56B1:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: workWithChimelistVoiceConnectors7BDFEFE9
      RestApiId:
        Ref: workWithChime4B2E2E9F
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'POST,OPTIONS'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/workWithChime/Default/listVoiceConnectors/OPTIONS/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/21Ry07DMBD8lt4dl9ALR9IgTiCiFnF37aW49SPyOq0iK/+OHSdtkDjt7EOzs7MlLTclfVg9sysWXJzXgVsHNOw942dSW4PeddyTukNv9Q7Qdo4Dqb/NHf9pNc5epABHKkTwkeYozTHNN8wxDT52liwfnW87n1DcJaSX1gwkaQm4oWHb8TOM3Qnl0FgleX8vT3lOtgxhILgpgoBW2V6D8TS3Xm4FwpI6pKPIgSimD4LREBnfWA/uCxxGJWQftSvw1rx2hidt5Abi6BI34LREHOVLpmnYWZVtSvEuOKOBiN4wbcWBhk92yJMjiMe38sg8XFkfSQB91crJ7hlWnNsu3rA4J1YXWXJ9pMxg9js5Q/594Tv4HytSKaNhtqRQyY4iPoQrSasr1kqODhE+fr1wEwXS+fEDMVYAPeH6Uj7R8pGWqxNKWbgoWWqguxx/AWwUg0N5AgAA
    Metadata:
      aws:cdk:path: CallForwardingWithSMAStack/CDKMetadata/Default
    Condition: CDKMetadataAvailable
Parameters:
  AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3Bucket4842F32D:
    Type: String
    Description: S3 bucket for asset "1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1"
  AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1S3VersionKeyD0A0B57A:
    Type: String
    Description: S3 key for asset version "1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1"
  AssetParameters1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1ArtifactHash0128B949:
    Type: String
    Description: Artifact hash for asset "1f7e277bd526ebce1983fa1e7a84a5281ec533d9187caaebb773681bbf7bf4c1"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3BucketAEADE8C7:
    Type: String
    Description: S3 bucket for asset "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68S3VersionKeyE415415F:
    Type: String
    Description: S3 key for asset version "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParameterse9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68ArtifactHashD9A515C3:
    Type: String
    Description: Artifact hash for asset "e9882ab123687399f934da0d45effe675ecc8ce13b40cb946f3e1d6141fe8d68"
  AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3BucketD1AD544E:
    Type: String
    Description: S3 bucket for asset "a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8"
  AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8S3VersionKey93A19D70:
    Type: String
    Description: S3 key for asset version "a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8"
  AssetParametersa3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8ArtifactHash238275D6:
    Type: String
    Description: Artifact hash for asset "a3058ccb468d757ebb89df5363a1c20f5307c6911136f29d00e1a68c9b2aa7e8"
  AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3Bucket48CD7EAC:
    Type: String
    Description: S3 bucket for asset "2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9a"
  AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aS3VersionKeyD437EC98:
    Type: String
    Description: S3 key for asset version "2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9a"
  AssetParameters2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9aArtifactHashDD4DCF89:
    Type: String
    Description: Artifact hash for asset "2c4357ead7ad8c2029ef5b8a57103c392e85ea9951781b0bd6630e404a81da9a"
  AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73S3Bucket64FA3F7C:
    Type: String
    Description: S3 bucket for asset "9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73"
  AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73S3VersionKey9E5B5731:
    Type: String
    Description: S3 key for asset version "9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73"
  AssetParameters9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73ArtifactHash575F3A0A:
    Type: String
    Description: Artifact hash for asset "9a6db667eb462c57538a2d391047c21e6c2f54e5add432a8c45e9466e1deda73"
  AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224S3Bucket5C24E5FD:
    Type: String
    Description: S3 bucket for asset "fab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224"
  AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224S3VersionKey06723F9D:
    Type: String
    Description: S3 key for asset version "fab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224"
  AssetParametersfab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224ArtifactHash5216FC59:
    Type: String
    Description: Artifact hash for asset "fab227726d254985a0ad509522d3af3b9ffa376ffaa8b1e9390a7bdd4fea2224"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3BucketEAC9DD43:
    Type: String
    Description: S3 bucket for asset "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cS3VersionKeyDD9AE9E7:
    Type: String
    Description: S3 key for asset version "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParametersc691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49cArtifactHash627DAAA7:
    Type: String
    Description: Artifact hash for asset "c691172cdeefa2c91b5a2907f9d81118e47597634943344795f1a844192dd49c"
  AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584S3Bucket967C16E9:
    Type: String
    Description: S3 bucket for asset "ac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584"
  AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584S3VersionKey96393B79:
    Type: String
    Description: S3 key for asset version "ac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584"
  AssetParametersac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584ArtifactHash5C796898:
    Type: String
    Description: Artifact hash for asset "ac9a5b92810a692de2441319e07995bf9119c93674fd66155f7e456a60c31584"
  AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafS3BucketDCE03ECB:
    Type: String
    Description: S3 bucket for asset "296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abaf"
  AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafS3VersionKey2404CD3E:
    Type: String
    Description: S3 key for asset version "296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abaf"
  AssetParameters296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abafArtifactHashBE2A5799:
    Type: String
    Description: Artifact hash for asset "296f55610d663fc1b0e5f489caaa3df33e32db213f6931b1c7871f107120abaf"
Outputs:
  smaPhoneNumber:
    Value:
      Fn::GetAtt:
        - smaResources
        - phoneNumber
  voiceConnectorId:
    Value:
      Fn::GetAtt:
        - outboundSMA
        - voiceConnectorId
  vcPhoneNumber:
    Value:
      Fn::GetAtt:
        - outboundSMA
        - phoneNumber
  workWithChimeEndpointC77C1614:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: workWithChime4B2E2E9F
          - .execute-api.
          - Ref: AWS::Region
          - "."
          - Ref: AWS::URLSuffix
          - /
          - Ref: workWithChimeDeploymentStageprodA69EA27B
          - /
  chimeAPI:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: workWithChime4B2E2E9F
          - .execute-api.
          - Ref: AWS::Region
          - "."
          - Ref: AWS::URLSuffix
          - /
          - Ref: workWithChimeDeploymentStageprodA69EA27B
          - /
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-2

