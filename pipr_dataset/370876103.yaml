Resources:
  VPCB9E5F0B4:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsHostnames: true
      EnableDnsSupport: true
      InstanceTenancy: default
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: Name
          Value: KITInfrastructure/VPC
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/Resource
  VPCPublicSubnet1SubnetB4246D30:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      AvailabilityZone:
        Fn::Select:
          - 0
          - Fn::GetAZs: ""
      CidrBlock: 10.0.0.0/18
      MapPublicIpOnLaunch: true
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Public
        - Key: aws-cdk:subnet-type
          Value: Public
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/Subnet
  VPCPublicSubnet1RouteTableFEE4B781:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/RouteTable
  VPCPublicSubnet1RouteTableAssociation0B0896DC:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VPCPublicSubnet1RouteTableFEE4B781
      SubnetId:
        Ref: VPCPublicSubnet1SubnetB4246D30
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/RouteTableAssociation
  VPCPublicSubnet1DefaultRoute91CEF279:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VPCPublicSubnet1RouteTableFEE4B781
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: VPCIGWB7E252D3
    DependsOn:
      - VPCVPCGW99B986DC
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/DefaultRoute
  VPCPublicSubnet1EIP6AD938E8:
    Type: AWS::EC2::EIP
    Properties:
      Domain: vpc
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/EIP
  VPCPublicSubnet1NATGatewayE0556630:
    Type: AWS::EC2::NatGateway
    Properties:
      SubnetId:
        Ref: VPCPublicSubnet1SubnetB4246D30
      AllocationId:
        Fn::GetAtt:
          - VPCPublicSubnet1EIP6AD938E8
          - AllocationId
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet1/NATGateway
  VPCPublicSubnet2Subnet74179F39:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      AvailabilityZone:
        Fn::Select:
          - 1
          - Fn::GetAZs: ""
      CidrBlock: 10.0.64.0/18
      MapPublicIpOnLaunch: true
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Public
        - Key: aws-cdk:subnet-type
          Value: Public
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/Subnet
  VPCPublicSubnet2RouteTable6F1A15F1:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/RouteTable
  VPCPublicSubnet2RouteTableAssociation5A808732:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VPCPublicSubnet2RouteTable6F1A15F1
      SubnetId:
        Ref: VPCPublicSubnet2Subnet74179F39
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/RouteTableAssociation
  VPCPublicSubnet2DefaultRouteB7481BBA:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VPCPublicSubnet2RouteTable6F1A15F1
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: VPCIGWB7E252D3
    DependsOn:
      - VPCVPCGW99B986DC
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/DefaultRoute
  VPCPublicSubnet2EIP4947BC00:
    Type: AWS::EC2::EIP
    Properties:
      Domain: vpc
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/EIP
  VPCPublicSubnet2NATGateway3C070193:
    Type: AWS::EC2::NatGateway
    Properties:
      SubnetId:
        Ref: VPCPublicSubnet2Subnet74179F39
      AllocationId:
        Fn::GetAtt:
          - VPCPublicSubnet2EIP4947BC00
          - AllocationId
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PublicSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PublicSubnet2/NATGateway
  VPCPrivateSubnet1Subnet8BCA10E0:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      AvailabilityZone:
        Fn::Select:
          - 0
          - Fn::GetAZs: ""
      CidrBlock: 10.0.128.0/18
      MapPublicIpOnLaunch: false
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Private
        - Key: aws-cdk:subnet-type
          Value: Private
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PrivateSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet1/Subnet
  VPCPrivateSubnet1RouteTableBE8A6027:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PrivateSubnet1
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet1/RouteTable
  VPCPrivateSubnet1RouteTableAssociation347902D1:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VPCPrivateSubnet1RouteTableBE8A6027
      SubnetId:
        Ref: VPCPrivateSubnet1Subnet8BCA10E0
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet1/RouteTableAssociation
  VPCPrivateSubnet1DefaultRouteAE1D6490:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VPCPrivateSubnet1RouteTableBE8A6027
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId:
        Ref: VPCPublicSubnet1NATGatewayE0556630
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet1/DefaultRoute
  VPCPrivateSubnet2SubnetCFCDAA7A:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      AvailabilityZone:
        Fn::Select:
          - 1
          - Fn::GetAZs: ""
      CidrBlock: 10.0.192.0/18
      MapPublicIpOnLaunch: false
      Tags:
        - Key: aws-cdk:subnet-name
          Value: Private
        - Key: aws-cdk:subnet-type
          Value: Private
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PrivateSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet2/Subnet
  VPCPrivateSubnet2RouteTable0A19E10E:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: kubernetes.io/role/internal-elb
          Value: "1"
        - Key: Name
          Value: KITInfrastructure/VPC/PrivateSubnet2
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet2/RouteTable
  VPCPrivateSubnet2RouteTableAssociation0C73D413:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: VPCPrivateSubnet2RouteTable0A19E10E
      SubnetId:
        Ref: VPCPrivateSubnet2SubnetCFCDAA7A
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet2/RouteTableAssociation
  VPCPrivateSubnet2DefaultRouteF4F5CFD2:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: VPCPrivateSubnet2RouteTable0A19E10E
      DestinationCidrBlock: 0.0.0.0/0
      NatGatewayId:
        Ref: VPCPublicSubnet2NATGateway3C070193
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/PrivateSubnet2/DefaultRoute
  VPCIGWB7E252D3:
    Type: AWS::EC2::InternetGateway
    Properties:
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
        - Key: Name
          Value: KITInfrastructure/VPC
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/IGW
  VPCVPCGW99B986DC:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
      VpcId:
        Ref: VPCB9E5F0B4
      InternetGatewayId:
        Ref: VPCIGWB7E252D3
    Metadata:
      aws:cdk:path: KITInfrastructure/VPC/VPCGW
  ClusterRoleD9CA7471:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: eks.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSClusterPolicy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSVPCResourceController
    Metadata:
      aws:cdk:path: KITInfrastructure/ClusterRole/Resource
  ClusterControlPlaneSecurityGroupD274242C:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: EKS Control Plane Security Group
      SecurityGroupEgress:
        - CidrIp: 0.0.0.0/0
          Description: Allow all outbound traffic by default
          IpProtocol: "-1"
      VpcId:
        Ref: VPCB9E5F0B4
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/ControlPlaneSecurityGroup/Resource
  ClusterCreationRole360249B6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    DependsOn:
      - VPCIGWB7E252D3
      - VPCPrivateSubnet1DefaultRouteAE1D6490
      - VPCPrivateSubnet1RouteTableBE8A6027
      - VPCPrivateSubnet1RouteTableAssociation347902D1
      - VPCPrivateSubnet1Subnet8BCA10E0
      - VPCPrivateSubnet2DefaultRouteF4F5CFD2
      - VPCPrivateSubnet2RouteTable0A19E10E
      - VPCPrivateSubnet2RouteTableAssociation0C73D413
      - VPCPrivateSubnet2SubnetCFCDAA7A
      - VPCPublicSubnet1DefaultRoute91CEF279
      - VPCPublicSubnet1EIP6AD938E8
      - VPCPublicSubnet1NATGatewayE0556630
      - VPCPublicSubnet1RouteTableFEE4B781
      - VPCPublicSubnet1RouteTableAssociation0B0896DC
      - VPCPublicSubnet1SubnetB4246D30
      - VPCPublicSubnet2DefaultRouteB7481BBA
      - VPCPublicSubnet2EIP4947BC00
      - VPCPublicSubnet2NATGateway3C070193
      - VPCPublicSubnet2RouteTable6F1A15F1
      - VPCPublicSubnet2RouteTableAssociation5A808732
      - VPCPublicSubnet2Subnet74179F39
      - VPCB9E5F0B4
      - VPCVPCGW99B986DC
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/Resource/CreationRole/Resource
  ClusterCreationRoleDefaultPolicyE8BDFC7B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: iam:PassRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - ClusterRoleD9CA7471
                - Arn
          - Action:
              - eks:CreateCluster
              - eks:DescribeCluster
              - eks:DescribeUpdate
              - eks:DeleteCluster
              - eks:UpdateClusterVersion
              - eks:UpdateClusterConfig
              - eks:CreateFargateProfile
              - eks:TagResource
              - eks:UntagResource
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":eks:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :cluster/KITInfrastructure
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":eks:"
                    - Ref: AWS::Region
                    - ":"
                    - Ref: AWS::AccountId
                    - :cluster/KITInfrastructure/*
          - Action:
              - eks:DescribeFargateProfile
              - eks:DeleteFargateProfile
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - ":eks:"
                  - Ref: AWS::Region
                  - ":"
                  - Ref: AWS::AccountId
                  - :fargateprofile/KITInfrastructure/*
          - Action:
              - iam:GetRole
              - iam:listAttachedRolePolicies
            Effect: Allow
            Resource: "*"
          - Action: iam:CreateServiceLinkedRole
            Effect: Allow
            Resource: "*"
          - Action:
              - ec2:DescribeInstances
              - ec2:DescribeNetworkInterfaces
              - ec2:DescribeSecurityGroups
              - ec2:DescribeSubnets
              - ec2:DescribeRouteTables
              - ec2:DescribeDhcpOptions
              - ec2:DescribeVpcs
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: ClusterCreationRoleDefaultPolicyE8BDFC7B
      Roles:
        - Ref: ClusterCreationRole360249B6
    DependsOn:
      - VPCIGWB7E252D3
      - VPCPrivateSubnet1DefaultRouteAE1D6490
      - VPCPrivateSubnet1RouteTableBE8A6027
      - VPCPrivateSubnet1RouteTableAssociation347902D1
      - VPCPrivateSubnet1Subnet8BCA10E0
      - VPCPrivateSubnet2DefaultRouteF4F5CFD2
      - VPCPrivateSubnet2RouteTable0A19E10E
      - VPCPrivateSubnet2RouteTableAssociation0C73D413
      - VPCPrivateSubnet2SubnetCFCDAA7A
      - VPCPublicSubnet1DefaultRoute91CEF279
      - VPCPublicSubnet1EIP6AD938E8
      - VPCPublicSubnet1NATGatewayE0556630
      - VPCPublicSubnet1RouteTableFEE4B781
      - VPCPublicSubnet1RouteTableAssociation0B0896DC
      - VPCPublicSubnet1SubnetB4246D30
      - VPCPublicSubnet2DefaultRouteB7481BBA
      - VPCPublicSubnet2EIP4947BC00
      - VPCPublicSubnet2NATGateway3C070193
      - VPCPublicSubnet2RouteTable6F1A15F1
      - VPCPublicSubnet2RouteTableAssociation5A808732
      - VPCPublicSubnet2Subnet74179F39
      - VPCB9E5F0B4
      - VPCVPCGW99B986DC
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/Resource/CreationRole/DefaultPolicy/Resource
  Cluster9EE0221C:
    Type: Custom::AWSCDK-EKS-Cluster
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454
          - Outputs.KITInfrastructureawscdkawseksClusterResourceProviderframeworkonEventFCF42BAFArn
      Config:
        name: KITInfrastructure
        version: "1.21"
        roleArn:
          Fn::GetAtt:
            - ClusterRoleD9CA7471
            - Arn
        resourcesVpcConfig:
          subnetIds:
            - Ref: VPCPublicSubnet1SubnetB4246D30
            - Ref: VPCPublicSubnet2Subnet74179F39
            - Ref: VPCPrivateSubnet1Subnet8BCA10E0
            - Ref: VPCPrivateSubnet2SubnetCFCDAA7A
          securityGroupIds:
            - Fn::GetAtt:
                - ClusterControlPlaneSecurityGroupD274242C
                - GroupId
          endpointPublicAccess: true
          endpointPrivateAccess: true
      AssumeRoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      AttributesRevision: 2
    DependsOn:
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - VPCIGWB7E252D3
      - VPCPrivateSubnet1DefaultRouteAE1D6490
      - VPCPrivateSubnet1RouteTableBE8A6027
      - VPCPrivateSubnet1RouteTableAssociation347902D1
      - VPCPrivateSubnet1Subnet8BCA10E0
      - VPCPrivateSubnet2DefaultRouteF4F5CFD2
      - VPCPrivateSubnet2RouteTable0A19E10E
      - VPCPrivateSubnet2RouteTableAssociation0C73D413
      - VPCPrivateSubnet2SubnetCFCDAA7A
      - VPCPublicSubnet1DefaultRoute91CEF279
      - VPCPublicSubnet1EIP6AD938E8
      - VPCPublicSubnet1NATGatewayE0556630
      - VPCPublicSubnet1RouteTableFEE4B781
      - VPCPublicSubnet1RouteTableAssociation0B0896DC
      - VPCPublicSubnet1SubnetB4246D30
      - VPCPublicSubnet2DefaultRouteB7481BBA
      - VPCPublicSubnet2EIP4947BC00
      - VPCPublicSubnet2NATGateway3C070193
      - VPCPublicSubnet2RouteTable6F1A15F1
      - VPCPublicSubnet2RouteTableAssociation5A808732
      - VPCPublicSubnet2Subnet74179F39
      - VPCB9E5F0B4
      - VPCVPCGW99B986DC
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/Resource/Resource/Default
  ClusterKubectlReadyBarrier200052AF:
    Type: AWS::SSM::Parameter
    Properties:
      Type: String
      Value: aws:cdk:eks:kubectl-ready
    DependsOn:
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/KubectlReadyBarrier
  ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      IpProtocol: "-1"
      Description: from KITInfrastructureNodeSecurityGroupAEFDBAB2:ALL TRAFFIC
      GroupId:
        Fn::GetAtt:
          - Cluster9EE0221C
          - ClusterSecurityGroupId
      SourceSecurityGroupId:
        Fn::GetAtt:
          - NodeSecurityGroup73B1F8A3
          - GroupId
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/ClusterSecurityGroup/from KITInfrastructureNodeSecurityGroupAEFDBAB2:ALL TRAFFIC
  ClusterMastersRole9AA35625:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/MastersRole/Resource
  ClusterAwsAuthmanifestFE51F8AE:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ConfigMap","metadata":{"name":"aws-auth","namespace":"kube-system","labels":{"aws.cdk.eks/prune-c84bedf5e8a38836851763b6228e7e54eb159c4f1a":""}},"data":{"mapRoles":"[{\"rolearn\":\"'
            - Fn::GetAtt:
                - ClusterMastersRole9AA35625
                - Arn
            - \",\"username\":\"
            - Fn::GetAtt:
                - ClusterMastersRole9AA35625
                - Arn
            - \",\"groups\":[\"system:masters\"]},{\"rolearn\":\"
            - Fn::GetAtt:
                - WorkerRole8DD27D41
                - Arn
            - \",\"username\":\"system:node:{{EC2PrivateDNSName}}\",\"groups\":[\"system:bootstrappers\",\"system:nodes\"]},{\"rolearn\":\"
            - Fn::GetAtt:
                - WorkerRole8DD27D41
                - Arn
            - \",\"username\":\"system:node:{{EC2PrivateDNSName}}\",\"groups\":[\"system:bootstrappers\",\"system:nodes\"]},{\"rolearn\":\"
            - Fn::GetAtt:
                - ClustertektontestssaRole18172BB6
                - Arn
            - \",\"username\":\"system:node:{{EC2PrivateDNSName}}\",\"groups\":[\"system:bootstrappers\",\"system:nodes\"]}]","mapUsers":"[]","mapAccounts":"[]"}}]
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c84bedf5e8a38836851763b6228e7e54eb159c4f1a
      Overwrite: true
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/AwsAuth/manifest/Resource/Default
  ClusterNodegroupSystemPoolC2AD15A7:
    Type: AWS::EKS::Nodegroup
    Properties:
      ClusterName:
        Ref: Cluster9EE0221C
      NodeRole:
        Fn::GetAtt:
          - WorkerRole8DD27D41
          - Arn
      Subnets:
        - Ref: VPCPrivateSubnet1Subnet8BCA10E0
        - Ref: VPCPrivateSubnet2SubnetCFCDAA7A
      AmiType: AL2_x86_64
      ForceUpdateEnabled: true
      InstanceTypes:
        - m5.large
        - m5a.large
        - m6i.large
        - m6a.large
        - t3.large
        - t3a.large
        - c5.large
        - c5a.large
        - c6i.large
      ScalingConfig:
        DesiredSize: 3
        MaxSize: 3
        MinSize: 3
      Tags:
        kit.sh/stack: KITInfrastructure
      Taints:
        - Effect: NO_SCHEDULE
          Key: CriticalAddonsOnly
          Value: "true"
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/NodegroupSystemPool/Resource
  ClustermanifesttektontestsnsCD440D14:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"v1","kind":"Namespace","metadata":{"labels":{"aws.cdk.eks/prune-c846b2a18eab7a36aecd5d7d424814c7354e057ea4":""}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c846b2a18eab7a36aecd5d7d424814c7354e057ea4
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-tekton-tests-ns/Resource/Default
  ClustertektontestssaConditionJson609F18EE:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com","
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":"system:serviceaccount:default:kitinfrastructureclustertektontestssabd478cf2"}
    DependsOn:
      - ClustermanifesttektontestsnsCD440D14
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/tekton-tests-sa/ConditionJson/Resource/Default
  ClustertektontestssaRole18172BB6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ClustertektontestssaConditionJson609F18EE
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
    DependsOn:
      - ClustermanifesttektontestsnsCD440D14
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/tekton-tests-sa/Role/Resource
  ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ServiceAccount","metadata":{"name":"kitinfrastructureclustertektontestssabd478cf2","namespace":"default","labels":{"aws.cdk.eks/prune-c8b690e786a180123a716429045cf78c8a4c134abb":"","app.kubernetes.io/name":"kitinfrastructureclustertektontestssabd478cf2"},"annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClustertektontestssaRole18172BB6
                - Arn
            - '"}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8b690e786a180123a716429045cf78c8a4c134abb
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifesttektontestsnsCD440D14
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/tekton-tests-sa/manifest-tekton-tests-saServiceAccountResource/Resource/Default
  ClusterOpenIdConnectProviderE7EB0530:
    Type: Custom::AWSCDKOpenIdConnectProvider
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0
          - Arn
      ClientIDList:
        - sts.amazonaws.com
      ThumbprintList:
        - 9e99a48a9960b14926bb7f3b02e22da2b0ab7280
      Url:
        Fn::GetAtt:
          - Cluster9EE0221C
          - OpenIdConnectIssuerUrl
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/OpenIdConnectProvider/Resource/Default
  ClustermanifestawsebscsinamespaceB81A4C24:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"v1","kind":"Namespace","metadata":{"name":"aws-ebs-csi-driver","labels":{"aws.cdk.eks/prune-c893372d2794c97e0a75d86b7a657b810810d7b50c":""}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c893372d2794c97e0a75d86b7a657b810810d7b50c
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-aws-ebs-csi-namespace/Resource/Default
  ClusterawsebscsidriversaConditionJson0AA34E09:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com","
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":"system:serviceaccount:aws-ebs-csi-driver:aws-ebs-csi-driver"}
    DependsOn:
      - ClustermanifestawsebscsinamespaceB81A4C24
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-ebs-csi-driver-sa/ConditionJson/Resource/Default
  ClusterawsebscsidriversaRoleE9DA485D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ClusterawsebscsidriversaConditionJson0AA34E09
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
    DependsOn:
      - ClustermanifestawsebscsinamespaceB81A4C24
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-ebs-csi-driver-sa/Role/Resource
  ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ServiceAccount","metadata":{"name":"aws-ebs-csi-driver","namespace":"aws-ebs-csi-driver","labels":{"aws.cdk.eks/prune-c8e73ecf02ceb206f7b345f8541a74a9e4afcba01b":"","app.kubernetes.io/name":"aws-ebs-csi-driver"},"annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterawsebscsidriversaRoleE9DA485D
                - Arn
            - '"}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8e73ecf02ceb206f7b345f8541a74a9e4afcba01b
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-ebs-csi-driver-sa/manifest-aws-ebs-csi-driver-saServiceAccountResource/Resource/Default
  Clusterchartawsebscsidriverchart228B4AA3:
    Type: Custom::AWSCDK-EKS-HelmChart
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      Release: aws-ebs-csi-driver
      Chart: aws-ebs-csi-driver
      Version: v2.8.1
      Values:
        Fn::Join:
          - ""
          - - '{"controller":{"replicaCount":1,"serviceAccount":{"create":false,"name":"aws-ebs-csi-driver","annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterawsebscsidriversaRoleE9DA485D
                - Arn
            - '"}}},"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]}'
      Namespace: aws-ebs-csi-driver
      Repository: https://kubernetes-sigs.github.io/aws-ebs-csi-driver
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/chart-aws-ebs-csi-driver-chart/Resource/Default
  Clusterchartfluxchart5E00CD89:
    Type: Custom::AWSCDK-EKS-HelmChart
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      Release: flux2
      Chart: flux2
      Version: 1.0.0
      Wait: true
      Timeout: 600s
      Values: '{"cli":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"helmcontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"imageautomationcontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"imagereflectorcontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"kustomizecontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"notificationcontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"sourcecontroller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]}}'
      Namespace: flux-system
      Repository: https://fluxcd-community.github.io/helm-charts
      CreateNamespace: true
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/chart-flux-chart/Resource/Default
  ClustermanifestGitRepoSelf3FA1C67E:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"source.toolkit.fluxcd.io/v1beta1","kind":"GitRepository","metadata":{"name":"flux-system","namespace":"flux-system","labels":{"aws.cdk.eks/prune-c8df42a50e70e0f50f6e28fd341d211372faa4f5d6":""}},"spec":{"interval":"2m0s","ref":{"branch":"main"},"url":"https://github.com/awslabs/kubernetes-iteration-toolkit"}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8df42a50e70e0f50f6e28fd341d211372faa4f5d6
    DependsOn:
      - Clusterchartfluxchart5E00CD89
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-GitRepoSelf/Resource/Default
  ClustermanifestKustomizationSelf5FAFEEFF:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"kustomize.toolkit.fluxcd.io/v1beta1","kind":"Kustomization","metadata":{"name":"flux-system","namespace":"flux-system","labels":{"aws.cdk.eks/prune-c80ae9dcb65a0f41718d59ec048f6e5d9abc407a70":""}},"spec":{"interval":"2m0s","path":"./infrastructure/k8s-config/clusters/kit-infrastructure","prune":true,"sourceRef":{"kind":"GitRepository","name":"flux-system"},"validation":"client"}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c80ae9dcb65a0f41718d59ec048f6e5d9abc407a70
    DependsOn:
      - Clusterchartfluxchart5E00CD89
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-KustomizationSelf/Resource/Default
  ClustermanifestawslbcnamespaceF891530A:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"v1","kind":"Namespace","metadata":{"name":"aws-load-balancer-controller","labels":{"aws.cdk.eks/prune-c819e3dd6ce60b128b9b2b44ed9ea82e73fb470cb2":""}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c819e3dd6ce60b128b9b2b44ed9ea82e73fb470cb2
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-aws-lbc-namespace/Resource/Default
  ClusterawslbcsaConditionJson4F2ECF71:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com","
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":"system:serviceaccount:aws-load-balancer-controller:aws-load-balancer-controller"}
    DependsOn:
      - ClustermanifestawslbcnamespaceF891530A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-lbc-sa/ConditionJson/Resource/Default
  ClusterawslbcsaRoleC09475C6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ClusterawslbcsaConditionJson4F2ECF71
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
    DependsOn:
      - ClustermanifestawslbcnamespaceF891530A
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-lbc-sa/Role/Resource
  ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ServiceAccount","metadata":{"name":"aws-load-balancer-controller","namespace":"aws-load-balancer-controller","labels":{"aws.cdk.eks/prune-c89d4a4bd7c5934afb6be35666426a7077e8d3dab3":"","app.kubernetes.io/name":"aws-load-balancer-controller"},"annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterawslbcsaRoleC09475C6
                - Arn
            - '"}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c89d4a4bd7c5934afb6be35666426a7077e8d3dab3
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawslbcnamespaceF891530A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/aws-lbc-sa/manifest-aws-lbc-saServiceAccountResource/Resource/Default
  ClusterchartAWSLBCHelmChartD18729AB:
    Type: Custom::AWSCDK-EKS-HelmChart
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      Release: aws-load-balancer-controller
      Chart: aws-load-balancer-controller
      Values:
        Fn::Join:
          - ""
          - - '{"clusterName":"'
            - Ref: Cluster9EE0221C
            - '","serviceAccount":{"create":false,"name":"aws-load-balancer-controller","annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterawslbcsaRoleC09475C6
                - Arn
            - '"}},"clusterSecretsPermissions":{"allowAllSecrets":true},"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]}'
      Namespace: aws-load-balancer-controller
      Repository: https://aws.github.io/eks-charts
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawslbcnamespaceF891530A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/chart-AWSLBCHelmChart/Resource/Default
  Clustermanifestkitnamespace0307F0AE:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"v1","kind":"Namespace","metadata":{"name":"kit","labels":{"aws.cdk.eks/prune-c85748a90dd0f64c776178201cfe242664a8ab194e":""}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c85748a90dd0f64c776178201cfe242664a8ab194e
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-kit-namespace/Resource/Default
  ClusterkitsaConditionJsonDF59C7D7:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com","
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":"system:serviceaccount:kit:kit"}
    DependsOn:
      - Clustermanifestkitnamespace0307F0AE
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/kit-sa/ConditionJson/Resource/Default
  ClusterkitsaRoleCF68C78D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ClusterkitsaConditionJsonDF59C7D7
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
    DependsOn:
      - Clustermanifestkitnamespace0307F0AE
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/kit-sa/Role/Resource
  ClusterkitsamanifestkitsaServiceAccountResourceA300F522:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ServiceAccount","metadata":{"name":"kit","namespace":"kit","labels":{"aws.cdk.eks/prune-c8d8cc5d541731c6e08de5e6514edccd442bdb2c55":"","app.kubernetes.io/name":"kit"},"annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterkitsaRoleCF68C78D
                - Arn
            - '"}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8d8cc5d541731c6e08de5e6514edccd442bdb2c55
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - Clustermanifestkitnamespace0307F0AE
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/kit-sa/manifest-kit-saServiceAccountResource/Resource/Default
  Clusterchartkitchart2CC50A4A:
    Type: Custom::AWSCDK-EKS-HelmChart
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      Release: kit
      Chart: kit-operator
      Values:
        Fn::Join:
          - ""
          - - '{"serviceAccount":{"create":false,"name":"kit","annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterkitsaRoleCF68C78D
                - Arn
            - '"}},"controller":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]},"webhook":{"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]}}'
      Namespace: kit
      Repository: https://awslabs.github.io/kubernetes-iteration-toolkit
    DependsOn:
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/chart-kit-chart/Resource/Default
  ClustermanifestkarpenternamespaceAFBA9DD9:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest: '[{"apiVersion":"v1","kind":"Namespace","metadata":{"name":"karpenter","labels":{"aws.cdk.eks/prune-c8c9245c4c59d34fb1787e37d26cc91c7fd9d43f59":""}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8c9245c4c59d34fb1787e37d26cc91c7fd9d43f59
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/manifest-karpenter-namespace/Resource/Default
  ClusterkarpentercontrollersaConditionJson9BB2EEA3:
    Type: Custom::AWSCDKCfnJson
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57
          - Arn
      Value:
        Fn::Join:
          - ""
          - - '{"'
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :aud":"sts.amazonaws.com","
            - Fn::Select:
                - 1
                - Fn::Split:
                    - :oidc-provider/
                    - Ref: ClusterOpenIdConnectProviderE7EB0530
            - :sub":"system:serviceaccount:karpenter:karpenter"}
    DependsOn:
      - ClustermanifestkarpenternamespaceAFBA9DD9
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/karpenter-controller-sa/ConditionJson/Resource/Default
  ClusterkarpentercontrollersaRoleB19E2E58:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRoleWithWebIdentity
            Condition:
              StringEquals:
                Fn::GetAtt:
                  - ClusterkarpentercontrollersaConditionJson9BB2EEA3
                  - Value
            Effect: Allow
            Principal:
              Federated:
                Ref: ClusterOpenIdConnectProviderE7EB0530
        Version: "2012-10-17"
    DependsOn:
      - ClustermanifestkarpenternamespaceAFBA9DD9
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/karpenter-controller-sa/Role/Resource
  ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451:
    Type: Custom::AWSCDK-EKS-KubernetesResource
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      Manifest:
        Fn::Join:
          - ""
          - - '[{"apiVersion":"v1","kind":"ServiceAccount","metadata":{"name":"karpenter","namespace":"karpenter","labels":{"aws.cdk.eks/prune-c8b5826f4b4d75459a904f08b77e0a60fdca6b35a7":"","app.kubernetes.io/name":"karpenter"},"annotations":{"eks.amazonaws.com/role-arn":"'
            - Fn::GetAtt:
                - ClusterkarpentercontrollersaRoleB19E2E58
                - Arn
            - '"}}}]'
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      PruneLabel: aws.cdk.eks/prune-c8b5826f4b4d75459a904f08b77e0a60fdca6b35a7
    DependsOn:
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestkarpenternamespaceAFBA9DD9
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/karpenter-controller-sa/manifest-karpenter-controller-saServiceAccountResource/Resource/Default
  ClusterchartkarpenterchartD2C09207:
    Type: Custom::AWSCDK-EKS-HelmChart
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B
          - Outputs.KITInfrastructureawscdkawseksKubectlProviderframeworkonEventEEE4C4A2Arn
      ClusterName:
        Ref: Cluster9EE0221C
      RoleArn:
        Fn::GetAtt:
          - ClusterCreationRole360249B6
          - Arn
      Release: karpenter
      Chart: karpenter
      Version: v0.13.2
      Wait: true
      Timeout: 600s
      Values:
        Fn::Join:
          - ""
          - - '{"clusterName":"'
            - Ref: Cluster9EE0221C
            - '","clusterEndpoint":"'
            - Fn::GetAtt:
                - Cluster9EE0221C
                - Endpoint
            - '","aws":{"defaultInstanceProfile":"KarpenterNodeInstanceProfile-'
            - Ref: Cluster9EE0221C
            - '"},"serviceAccount":{"create":false,"name":"karpenter"},"tolerations":[{"key":"CriticalAddonsOnly","operator":"Exists"}]}'
      Namespace: karpenter
      Repository: https://charts.karpenter.sh
    DependsOn:
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterKubectlReadyBarrier200052AF
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/Cluster/chart-karpenter-chart/Resource/Default
  awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL:
        Fn::Join:
          - ""
          - - https://s3.
            - Ref: AWS::Region
            - "."
            - Ref: AWS::URLSuffix
            - /
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
            - /6029801eae2a7326dcf0da02d38198fa63878d0cd5b08e5318a539a79fc5fde0.json
      Parameters:
        referencetoKITInfrastructureClusterCreationRole86E682D3Arn:
          Fn::GetAtt:
            - ClusterCreationRole360249B6
            - Arn
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource
      aws:asset:path: KITInfrastructureawscdkawseksClusterResourceProvider0E250F26.nested.template.json
      aws:asset:property: TemplateURL
  awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL:
        Fn::Join:
          - ""
          - - https://s3.
            - Ref: AWS::Region
            - "."
            - Ref: AWS::URLSuffix
            - /
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
            - /dcbfc90e3d3fb0fdc77e1b8c2d47c3b5a7bbfbed1d3ed7e9d343dd0b05862a4a.json
      Parameters:
        referencetoKITInfrastructureCluster218BBDE2Arn:
          Fn::GetAtt:
            - Cluster9EE0221C
            - Arn
        referencetoKITInfrastructureClusterCreationRole86E682D3Arn:
          Fn::GetAtt:
            - ClusterCreationRole360249B6
            - Arn
        referencetoKITInfrastructureVPCPrivateSubnet1SubnetF20EADDERef:
          Ref: VPCPrivateSubnet1Subnet8BCA10E0
        referencetoKITInfrastructureVPCPrivateSubnet2Subnet992D134ERef:
          Ref: VPCPrivateSubnet2SubnetCFCDAA7A
        referencetoKITInfrastructureCluster218BBDE2ClusterSecurityGroupId:
          Fn::GetAtt:
            - Cluster9EE0221C
            - ClusterSecurityGroupId
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: KITInfrastructure/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource
      aws:asset:path: KITInfrastructureawscdkawseksKubectlProvider91A4DF33.nested.template.json
      aws:asset:property: TemplateURL
  WorkerRole8DD27D41:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service:
                Fn::Join:
                  - ""
                  - - ec2.
                    - Ref: AWS::URLSuffix
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSWorkerNodePolicy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEC2ContainerRegistryReadOnly
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKS_CNI_Policy
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonEKSVPCResourceController
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AmazonSSMManagedInstanceCore
    Metadata:
      aws:cdk:path: KITInfrastructure/WorkerRole/Resource
  NodeSecurityGroup73B1F8A3:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Worker Node Security Group
      SecurityGroupEgress:
        - CidrIp: 0.0.0.0/0
          Description: Allow all outbound traffic by default
          IpProtocol: "-1"
      Tags:
        - Key: kit.sh/stack
          Value: KITInfrastructure
      VpcId:
        Ref: VPCB9E5F0B4
    Metadata:
      aws:cdk:path: KITInfrastructure/NodeSecurityGroup/Resource
  NodeSecurityGroupfromKITInfrastructureClusterClusterSecurityGroupDA1DE48AALLTRAFFICDCA21560:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      IpProtocol: "-1"
      Description: from KITInfrastructureClusterClusterSecurityGroupDA1DE48A:ALL TRAFFIC
      GroupId:
        Fn::GetAtt:
          - NodeSecurityGroup73B1F8A3
          - GroupId
      SourceSecurityGroupId:
        Fn::GetAtt:
          - Cluster9EE0221C
          - ClusterSecurityGroupId
    Metadata:
      aws:cdk:path: KITInfrastructure/NodeSecurityGroup/from KITInfrastructureClusterClusterSecurityGroupDA1DE48A:ALL TRAFFIC
  NodeSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC62B500DA:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      IpProtocol: "-1"
      Description: from KITInfrastructureNodeSecurityGroupAEFDBAB2:ALL TRAFFIC
      GroupId:
        Fn::GetAtt:
          - NodeSecurityGroup73B1F8A3
          - GroupId
      SourceSecurityGroupId:
        Fn::GetAtt:
          - NodeSecurityGroup73B1F8A3
          - GroupId
    Metadata:
      aws:cdk:path: KITInfrastructure/NodeSecurityGroup/from KITInfrastructureNodeSecurityGroupAEFDBAB2:ALL TRAFFIC
  CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Policies:
        - PolicyName: Inline
          PolicyDocument:
            Version: "2012-10-17"
            Statement:
              - Effect: Allow
                Resource: "*"
                Action:
                  - iam:CreateOpenIDConnectProvider
                  - iam:DeleteOpenIDConnectProvider
                  - iam:UpdateOpenIDConnectProviderThumbprint
                  - iam:AddClientIDToOpenIDConnectProvider
                  - iam:RemoveClientIDFromOpenIDConnectProvider
    Metadata:
      aws:cdk:path: KITInfrastructure/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Role
  CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: f7f53a92c36d534d2a91a241257f20f748d85f700dac48fafe14bfdbc36eaad5.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65
          - Arn
      Runtime: nodejs14.x
    DependsOn:
      - CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65
    Metadata:
      aws:cdk:path: KITInfrastructure/Custom::AWSCDKOpenIdConnectProviderCustomResourceProvider/Handler
      aws:asset:path: asset.f7f53a92c36d534d2a91a241257f20f748d85f700dac48fafe14bfdbc36eaad5
      aws:asset:property: Code
  AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: KITInfrastructure/AWSCDKCfnUtilsProviderCustomResourceProvider/Role
  AWSCDKCfnUtilsProviderCustomResourceProviderHandlerCF82AA57:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
        S3Key: ef28ae71a763ab8539c2c2de8af41b50e7a1e293d91583c5a55d275b40a23cc0.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867
          - Arn
      Runtime: nodejs14.x
    DependsOn:
      - AWSCDKCfnUtilsProviderCustomResourceProviderRoleFE0EE867
    Metadata:
      aws:cdk:path: KITInfrastructure/AWSCDKCfnUtilsProviderCustomResourceProvider/Handler
      aws:asset:path: asset.ef28ae71a763ab8539c2c2de8af41b50e7a1e293d91583c5a55d275b40a23cc0
      aws:asset:property: Code
  tektontestspolicy87873363:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ec2:*
              - cloudformation:*
              - iam:*
              - ssm:GetParameter
              - eks:*
              - pricing:GetProducts
              - sts:AssumeRole
              - s3:*
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: tektontestspolicy87873363
      Roles:
        - Ref: ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/tekton-tests-policy/Resource
  AWSEBSCSIDriverawsebscsidriverpolicy7245712C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ec2:CreateSnapshot
              - ec2:AttachVolume
              - ec2:DetachVolume
              - ec2:ModifyVolume
              - ec2:DescribeAvailabilityZones
              - ec2:DescribeInstances
              - ec2:DescribeSnapshots
              - ec2:DescribeTags
              - ec2:DescribeVolumes
              - ec2:DescribeVolumesModifications
            Effect: Allow
            Resource: "*"
          - Action: ec2:CreateTags
            Condition:
              StringEquals:
                ec2:CreateAction:
                  - CreateVolume
                  - CreateSnapshot
            Effect: Allow
            Resource:
              - arn:aws:ec2:*:*:volume/*
              - arn:aws:ec2:*:*:snapshot/*
          - Action: ec2:DeleteTags
            Effect: Allow
            Resource:
              - arn:aws:ec2:*:*:volume/*
              - arn:aws:ec2:*:*:snapshot/*
          - Action: ec2:CreateVolume
            Condition:
              StringLike:
                aws:RequestTag/ebs.csi.aws.com/cluster: "true"
            Effect: Allow
            Resource: "*"
          - Action: ec2:CreateVolume
            Condition:
              StringLike:
                aws:RequestTag/CSIVolumeName: "*"
            Effect: Allow
            Resource: "*"
          - Action: ec2:CreateVolume
            Condition:
              StringLike:
                aws:RequestTag/kubernetes.io/cluster/*: owned
            Effect: Allow
            Resource: "*"
          - Action: ec2:DeleteVolume
            Condition:
              StringLike:
                ec2:ResourceTag/ebs.csi.aws.com/cluster: "true"
            Effect: Allow
            Resource: "*"
          - Action: ec2:DeleteVolume
            Condition:
              StringLike:
                ec2:ResourceTag/CSIVolumeName: "*"
            Effect: Allow
            Resource: "*"
          - Action: ec2:DeleteVolume
            Condition:
              StringLike:
                ec2:ResourceTag/kubernetes.io/cluster/*: owned
            Effect: Allow
            Resource: "*"
          - Action: ec2:DeleteSnapshot
            Condition:
              StringLike:
                ec2:ResourceTag/CSIVolumeSnapshotName: "*"
            Effect: Allow
            Resource: "*"
          - Action: ec2:DeleteSnapshot
            Condition:
              StringLike:
                ec2:ResourceTag/ebs.csi.aws.com/cluster: "true"
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: AWSEBSCSIDriverawsebscsidriverpolicy7245712C
      Roles:
        - Ref: ClusterawsebscsidriversaRoleE9DA485D
    DependsOn:
      - ClusterawsebscsidriversaConditionJson0AA34E09
      - ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0
      - ClusterawsebscsidriversaRoleE9DA485D
      - ClusterawslbcsaConditionJson4F2ECF71
      - ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519
      - ClusterawslbcsaRoleC09475C6
      - ClusterAwsAuthmanifestFE51F8AE
      - Clusterchartawsebscsidriverchart228B4AA3
      - ClusterchartAWSLBCHelmChartD18729AB
      - Clusterchartfluxchart5E00CD89
      - ClusterchartkarpenterchartD2C09207
      - Clusterchartkitchart2CC50A4A
      - ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064
      - ClusterControlPlaneSecurityGroupD274242C
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
      - ClustermanifestawslbcnamespaceF891530A
      - ClustermanifestGitRepoSelf3FA1C67E
      - ClustermanifestkarpenternamespaceAFBA9DD9
      - Clustermanifestkitnamespace0307F0AE
      - ClustermanifestKustomizationSelf5FAFEEFF
      - ClustermanifesttektontestsnsCD440D14
      - ClusterMastersRole9AA35625
      - ClusterNodegroupSystemPoolC2AD15A7
      - ClusterOpenIdConnectProviderE7EB0530
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
      - ClustertektontestssaConditionJson609F18EE
      - ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212
      - ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/AWSEBSCSIDriver/aws-ebs-csi-driver-policy/Resource
  AWSLoadBalancerControllerawslbcpolicy95A750A7:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: iam:CreateServiceLinkedRole
            Condition:
              StringEquals:
                iam:AWSServiceName: elasticloadbalancing.amazonaws.com
            Effect: Allow
            Resource: "*"
          - Action:
              - ec2:DescribeAccountAttributes
              - ec2:DescribeAddresses
              - ec2:DescribeAvailabilityZones
              - ec2:DescribeInternetGateways
              - ec2:DescribeVpcs
              - ec2:DescribeVpcPeeringConnections
              - ec2:DescribeSubnets
              - ec2:DescribeSecurityGroups
              - ec2:DescribeInstances
              - ec2:DescribeNetworkInterfaces
              - ec2:DescribeTags
              - ec2:GetCoipPoolUsage
              - ec2:DescribeCoipPools
              - elasticloadbalancing:DescribeLoadBalancers
              - elasticloadbalancing:DescribeLoadBalancerAttributes
              - elasticloadbalancing:DescribeListeners
              - elasticloadbalancing:DescribeListenerCertificates
              - elasticloadbalancing:DescribeSSLPolicies
              - elasticloadbalancing:DescribeRules
              - elasticloadbalancing:DescribeTargetGroups
              - elasticloadbalancing:DescribeTargetGroupAttributes
              - elasticloadbalancing:DescribeTargetHealth
              - elasticloadbalancing:DescribeTags
            Effect: Allow
            Resource: "*"
          - Action:
              - cognito-idp:DescribeUserPoolClient
              - acm:ListCertificates
              - acm:DescribeCertificate
              - iam:ListServerCertificates
              - iam:GetServerCertificate
              - waf-regional:GetWebACL
              - waf-regional:GetWebACLForResource
              - waf-regional:AssociateWebACL
              - waf-regional:DisassociateWebACL
              - wafv2:GetWebACL
              - wafv2:GetWebACLForResource
              - wafv2:AssociateWebACL
              - wafv2:DisassociateWebACL
              - shield:GetSubscriptionState
              - shield:DescribeProtection
              - shield:CreateProtection
              - shield:DeleteProtection
            Effect: Allow
            Resource: "*"
          - Action:
              - ec2:AuthorizeSecurityGroupIngress
              - ec2:RevokeSecurityGroupIngress
            Effect: Allow
            Resource: "*"
          - Action: ec2:CreateSecurityGroup
            Effect: Allow
            Resource: "*"
          - Action: ec2:CreateTags
            Condition:
              StringEquals:
                ec2:CreateAction: CreateSecurityGroup
              "Null":
                aws:RequestTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource: arn:aws:ec2:*:*:security-group/*
          - Action:
              - ec2:CreateTags
              - ec2:DeleteTags
            Condition:
              "Null":
                aws:RequestTag/elbv2.k8s.aws/cluster: "true"
                aws:ResourceTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource: arn:aws:ec2:*:*:security-group/*
          - Action:
              - ec2:AuthorizeSecurityGroupIngress
              - ec2:RevokeSecurityGroupIngress
              - ec2:DeleteSecurityGroup
            Condition:
              "Null":
                aws:ResourceTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource: "*"
          - Action:
              - elasticloadbalancing:CreateLoadBalancer
              - elasticloadbalancing:CreateTargetGroup
            Condition:
              "Null":
                aws:RequestTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource: "*"
          - Action:
              - elasticloadbalancing:CreateListener
              - elasticloadbalancing:DeleteListener
              - elasticloadbalancing:CreateRule
              - elasticloadbalancing:DeleteRule
            Effect: Allow
            Resource: "*"
          - Action:
              - elasticloadbalancing:AddTags
              - elasticloadbalancing:RemoveTags
            Condition:
              "Null":
                aws:RequestTag/elbv2.k8s.aws/cluster: "true"
                aws:ResourceTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource:
              - arn:aws:elasticloadbalancing:*:*:targetgroup/*/*
              - arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*
              - arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*
          - Action:
              - elasticloadbalancing:AddTags
              - elasticloadbalancing:RemoveTags
            Effect: Allow
            Resource:
              - arn:aws:elasticloadbalancing:*:*:listener/net/*/*/*
              - arn:aws:elasticloadbalancing:*:*:listener/app/*/*/*
              - arn:aws:elasticloadbalancing:*:*:listener-rule/net/*/*/*
              - arn:aws:elasticloadbalancing:*:*:listener-rule/app/*/*/*
          - Action:
              - elasticloadbalancing:ModifyLoadBalancerAttributes
              - elasticloadbalancing:SetIpAddressType
              - elasticloadbalancing:SetSecurityGroups
              - elasticloadbalancing:SetSubnets
              - elasticloadbalancing:DeleteLoadBalancer
              - elasticloadbalancing:ModifyTargetGroup
              - elasticloadbalancing:ModifyTargetGroupAttributes
              - elasticloadbalancing:DeleteTargetGroup
            Condition:
              "Null":
                aws:ResourceTag/elbv2.k8s.aws/cluster: "false"
            Effect: Allow
            Resource: "*"
          - Action:
              - elasticloadbalancing:RegisterTargets
              - elasticloadbalancing:DeregisterTargets
            Effect: Allow
            Resource: arn:aws:elasticloadbalancing:*:*:targetgroup/*/*
          - Action:
              - elasticloadbalancing:SetWebAcl
              - elasticloadbalancing:ModifyListener
              - elasticloadbalancing:AddListenerCertificates
              - elasticloadbalancing:RemoveListenerCertificates
              - elasticloadbalancing:ModifyRule
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: AWSLoadBalancerControllerawslbcpolicy95A750A7
      Roles:
        - Ref: ClusterawslbcsaRoleC09475C6
    DependsOn:
      - ClusterawsebscsidriversaConditionJson0AA34E09
      - ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0
      - ClusterawsebscsidriversaRoleE9DA485D
      - ClusterawslbcsaConditionJson4F2ECF71
      - ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519
      - ClusterawslbcsaRoleC09475C6
      - ClusterAwsAuthmanifestFE51F8AE
      - Clusterchartawsebscsidriverchart228B4AA3
      - ClusterchartAWSLBCHelmChartD18729AB
      - Clusterchartfluxchart5E00CD89
      - ClusterchartkarpenterchartD2C09207
      - Clusterchartkitchart2CC50A4A
      - ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064
      - ClusterControlPlaneSecurityGroupD274242C
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
      - ClustermanifestawslbcnamespaceF891530A
      - ClustermanifestGitRepoSelf3FA1C67E
      - ClustermanifestkarpenternamespaceAFBA9DD9
      - Clustermanifestkitnamespace0307F0AE
      - ClustermanifestKustomizationSelf5FAFEEFF
      - ClustermanifesttektontestsnsCD440D14
      - ClusterMastersRole9AA35625
      - ClusterNodegroupSystemPoolC2AD15A7
      - ClusterOpenIdConnectProviderE7EB0530
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
      - ClustertektontestssaConditionJson609F18EE
      - ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212
      - ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/AWSLoadBalancerController/aws-lbc-policy/Resource
  KITkitcontrollerpolicyE439C37E:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ec2:CreateTags
              - ec2:CreateLaunchTemplate
              - ec2:CreateLaunchTemplateVersion
              - ec2:DeleteLaunchTemplate
              - ec2:RunInstances
              - iam:passRole
              - autoscaling:CreateOrUpdateTags
              - autoscaling:CreateAutoScalingGroup
              - autoscaling:DeleteAutoScalingGroup
              - autoscaling:UpdateAutoScalingGroup
              - autoscaling:SetDesiredCapacity
              - iam:CreateRole
              - iam:AddRoleToInstanceProfile
              - iam:CreateInstanceProfile
              - iam:AttachRolePolicy
              - iam:RemoveRoleFromInstanceProfile
              - iam:DeleteInstanceProfile
              - iam:DetachRolePolicy
              - iam:DeleteRole
              - iam:TagRole
              - ec2:DescribeInstances
              - ec2:DescribeLaunchTemplates
              - ec2:DescribeLaunchTemplateVersions
              - ec2:DescribeSubnets
              - ssm:GetParameter
              - autoscaling:DescribeAutoScalingGroups
              - iam:GetRole
              - iam:GetInstanceProfile
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: KITkitcontrollerpolicyE439C37E
      Roles:
        - Ref: ClusterkitsaRoleCF68C78D
    DependsOn:
      - ClusterawsebscsidriversaConditionJson0AA34E09
      - ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0
      - ClusterawsebscsidriversaRoleE9DA485D
      - ClusterawslbcsaConditionJson4F2ECF71
      - ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519
      - ClusterawslbcsaRoleC09475C6
      - ClusterAwsAuthmanifestFE51F8AE
      - Clusterchartawsebscsidriverchart228B4AA3
      - ClusterchartAWSLBCHelmChartD18729AB
      - Clusterchartfluxchart5E00CD89
      - ClusterchartkarpenterchartD2C09207
      - Clusterchartkitchart2CC50A4A
      - ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064
      - ClusterControlPlaneSecurityGroupD274242C
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
      - ClustermanifestawslbcnamespaceF891530A
      - ClustermanifestGitRepoSelf3FA1C67E
      - ClustermanifestkarpenternamespaceAFBA9DD9
      - Clustermanifestkitnamespace0307F0AE
      - ClustermanifestKustomizationSelf5FAFEEFF
      - ClustermanifesttektontestsnsCD440D14
      - ClusterMastersRole9AA35625
      - ClusterNodegroupSystemPoolC2AD15A7
      - ClusterOpenIdConnectProviderE7EB0530
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
      - ClustertektontestssaConditionJson609F18EE
      - ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212
      - ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/KIT/kit-controller-policy/Resource
  KarpenterControllerkarpentercontrollerpolicy2C614747:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - ec2:CreateLaunchTemplate
              - ec2:CreateFleet
              - ec2:RunInstances
              - ec2:CreateTags
              - iam:PassRole
              - ec2:TerminateInstances
              - ec2:DeleteLaunchTemplate
              - ec2:DescribeLaunchTemplates
              - ec2:DescribeInstances
              - ec2:DescribeSecurityGroups
              - ec2:DescribeSubnets
              - ec2:DescribeInstanceTypes
              - ec2:DescribeInstanceTypeOfferings
              - ec2:DescribeAvailabilityZones
              - ec2:DescribeSpotPriceHistory
              - ec2:DescribeImages
              - ssm:GetParameter
              - pricing:GetProducts
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: KarpenterControllerkarpentercontrollerpolicy2C614747
      Roles:
        - Ref: ClusterkarpentercontrollersaRoleB19E2E58
    DependsOn:
      - ClusterawsebscsidriversaConditionJson0AA34E09
      - ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0
      - ClusterawsebscsidriversaRoleE9DA485D
      - ClusterawslbcsaConditionJson4F2ECF71
      - ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519
      - ClusterawslbcsaRoleC09475C6
      - ClusterAwsAuthmanifestFE51F8AE
      - Clusterchartawsebscsidriverchart228B4AA3
      - ClusterchartAWSLBCHelmChartD18729AB
      - Clusterchartfluxchart5E00CD89
      - ClusterchartkarpenterchartD2C09207
      - Clusterchartkitchart2CC50A4A
      - ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064
      - ClusterControlPlaneSecurityGroupD274242C
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
      - ClustermanifestawslbcnamespaceF891530A
      - ClustermanifestGitRepoSelf3FA1C67E
      - ClustermanifestkarpenternamespaceAFBA9DD9
      - Clustermanifestkitnamespace0307F0AE
      - ClustermanifestKustomizationSelf5FAFEEFF
      - ClustermanifesttektontestsnsCD440D14
      - ClusterMastersRole9AA35625
      - ClusterNodegroupSystemPoolC2AD15A7
      - ClusterOpenIdConnectProviderE7EB0530
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
      - ClustertektontestssaConditionJson609F18EE
      - ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212
      - ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/KarpenterController/karpenter-controller-policy/Resource
  KarpenterControllerkarpenterinstanceprofileF7BACAB4:
    Type: AWS::IAM::InstanceProfile
    Properties:
      Roles:
        - Ref: WorkerRole8DD27D41
      InstanceProfileName:
        Fn::Join:
          - ""
          - - KarpenterNodeInstanceProfile-
            - Ref: Cluster9EE0221C
    DependsOn:
      - ClusterawsebscsidriversaConditionJson0AA34E09
      - ClusterawsebscsidriversamanifestawsebscsidriversaServiceAccountResourceE6B7A2B0
      - ClusterawsebscsidriversaRoleE9DA485D
      - ClusterawslbcsaConditionJson4F2ECF71
      - ClusterawslbcsamanifestawslbcsaServiceAccountResource9C5D0519
      - ClusterawslbcsaRoleC09475C6
      - ClusterAwsAuthmanifestFE51F8AE
      - Clusterchartawsebscsidriverchart228B4AA3
      - ClusterchartAWSLBCHelmChartD18729AB
      - Clusterchartfluxchart5E00CD89
      - ClusterchartkarpenterchartD2C09207
      - Clusterchartkitchart2CC50A4A
      - ClusterClusterSecurityGroupfromKITInfrastructureNodeSecurityGroupAEFDBAB2ALLTRAFFIC16D8E064
      - ClusterControlPlaneSecurityGroupD274242C
      - ClusterkarpentercontrollersaConditionJson9BB2EEA3
      - ClusterkarpentercontrollersamanifestkarpentercontrollersaServiceAccountResourceBD765451
      - ClusterkarpentercontrollersaRoleB19E2E58
      - ClusterkitsaConditionJsonDF59C7D7
      - ClusterkitsamanifestkitsaServiceAccountResourceA300F522
      - ClusterkitsaRoleCF68C78D
      - ClusterKubectlReadyBarrier200052AF
      - ClustermanifestawsebscsinamespaceB81A4C24
      - ClustermanifestawslbcnamespaceF891530A
      - ClustermanifestGitRepoSelf3FA1C67E
      - ClustermanifestkarpenternamespaceAFBA9DD9
      - Clustermanifestkitnamespace0307F0AE
      - ClustermanifestKustomizationSelf5FAFEEFF
      - ClustermanifesttektontestsnsCD440D14
      - ClusterMastersRole9AA35625
      - ClusterNodegroupSystemPoolC2AD15A7
      - ClusterOpenIdConnectProviderE7EB0530
      - ClusterCreationRoleDefaultPolicyE8BDFC7B
      - ClusterCreationRole360249B6
      - Cluster9EE0221C
      - ClustertektontestssaConditionJson609F18EE
      - ClustertektontestssamanifesttektontestssaServiceAccountResource33B10212
      - ClustertektontestssaRole18172BB6
    Metadata:
      aws:cdk:path: KITInfrastructure/KarpenterController/karpenter-instance-profile
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/32SwW6DMAyGn2X3NBPdZVeEpo5NaxFMvU4huK1bSKrEoaoQ7z4Da9kuO/n3Lyf+YmcpnyIZPaiLX+jqtKixlF1BSp8EW18d6KXstmctkp3ZZonIQlmjLkJpgAZvVrkNBJ+qrGH2Zy/23mpUhNbciwfxkmZDWCtaKYKLuorMYctyvjg1BI71rWAi+cliYtZDA4ZEATo4pOvK2XAeGf41UrN34H0vUDWyy+3EPcbM8hvHRrNKjSdlNGTO7rCGXsDJyy6pg2c6EV98HOgg3kM5soL/UAZ34EmsbQX7G8GcFOBa1BBrbQPDb85g0iqxxoAm7tFixde+Qt0kB+Wo70UO3ganmZJb2mZOGfqX3gQ6h3Fub36a9bTNv6fuHXgvQFyxR7MfipmgwmFLvTDMKo/+sY2eZbTkP3L0iAvHtNiAzKf4DQ5Zy5Y/AgAA
    Metadata:
      aws:cdk:path: KITInfrastructure/CDKMetadata/Default
    Condition: CDKMetadataAvailable
Outputs:
  ClusterConfigCommand43AAE40F:
    Value:
      Fn::Join:
        - ""
        - - "aws eks update-kubeconfig --name "
          - Ref: Cluster9EE0221C
          - " --region "
          - Ref: AWS::Region
          - " --role-arn "
          - Fn::GetAtt:
              - ClusterMastersRole9AA35625
              - Arn
  ClusterGetTokenCommand06AE992E:
    Value:
      Fn::Join:
        - ""
        - - "aws eks get-token --cluster-name "
          - Ref: Cluster9EE0221C
          - " --region "
          - Ref: AWS::Region
          - " --role-arn "
          - Fn::GetAtt:
              - ClusterMastersRole9AA35625
              - Arn
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-2
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - "1"
                  - "2"
                  - "3"
                  - "4"
                  - "5"
                - Ref: BootstrapVersion
        AssertDescription: CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.

