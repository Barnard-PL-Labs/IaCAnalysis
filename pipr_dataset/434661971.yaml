Resources:
  ApprovalSnsTopic77044C77:
    Type: AWS::SNS::Topic
    Properties:
      TopicName: ApprovalSnsTopic
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ApprovalSnsTopic/Resource
  ApprovalSnsTopicTokenSubscription17979DAD7:
    Type: AWS::SNS::Subscription
    Properties:
      Protocol: email
      TopicArn:
        Ref: ApprovalSnsTopic77044C77
      Endpoint: "{{resolve:secretsmanager:GitHubSecrets:SecretString:notifications-email::}}"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ApprovalSnsTopic/TokenSubscription:1/Resource
  ApprovalSnsTopicTokenSubscription26CD1872D:
    Type: AWS::SNS::Subscription
    Properties:
      Protocol: email
      TopicArn:
        Ref: ApprovalSnsTopic77044C77
      Endpoint: "{{resolve:secretsmanager:GitHubSecrets:SecretString:notifications-email::}}"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ApprovalSnsTopic/TokenSubscription:2/Resource
  VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929:
    Type: AWS::KMS::Key
    Properties:
      KeyPolicy:
        Statement:
          - Action:
              - kms:Create*
              - kms:Describe*
              - kms:Enable*
              - kms:List*
              - kms:Put*
              - kms:Update*
              - kms:Revoke*
              - kms:Disable*
              - kms:Get*
              - kms:Delete*
              - kms:ScheduleKeyDeletion
              - kms:CancelKeyDeletion
              - kms:GenerateDataKey
              - kms:TagResource
              - kms:UntagResource
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineRole7DCD8800
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleA3E2BBFB
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleA3E2BBFB
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineUpdatePipelineSelfMutationRole3363EB94
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineUpdatePipelineSelfMutationRole3363EB94
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - BuildVueRole30DF05E9
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - BuildVueRole30DF05E9
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRole907BB84E
                  - Arn
            Resource: "*"
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRole4799E51C
                  - Arn
            Resource: "*"
        Version: "2012-10-17"
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ArtifactsBucketEncryptionKey/Resource
  VueComponentCdkPipelineArtifactsBucketEncryptionKeyAlias21BFC4F9:
    Type: AWS::KMS::Alias
    Properties:
      AliasName: alias/codepipeline-cdkvueapplicationpipelinestackvuecomponentcdkpipelinefd9c600c
      TargetKeyId:
        Fn::GetAtt:
          - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
          - Arn
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ArtifactsBucketEncryptionKeyAlias/Resource
  VueComponentCdkPipelineArtifactsBucket930CF222:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              KMSMasterKeyID:
                Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                  - Arn
              SSEAlgorithm: aws:kms
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ArtifactsBucket/Resource
  VueComponentCdkPipelineRole7DCD8800:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codepipeline.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Role/Resource
  VueComponentCdkPipelineRoleDefaultPolicy2252B39C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
              - s3:PutObject*
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRole97890625
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRole820C780F
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineBuildVueCodePipelineActionRoleA16DED7D
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRole00AA0639
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRole907BB84E
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleE1D7FE07
                - Arn
          - Action: sts:AssumeRole
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRole4799E51C
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineRoleDefaultPolicy2252B39C
      Roles:
        - Ref: VueComponentCdkPipelineRole7DCD8800
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Role/DefaultPolicy/Resource
  VueComponentCdkPipeline7ECFA9E5:
    Type: AWS::CodePipeline::Pipeline
    Properties:
      RoleArn:
        Fn::GetAtt:
          - VueComponentCdkPipelineRole7DCD8800
          - Arn
      Stages:
        - Actions:
            - ActionTypeId:
                Category: Source
                Owner: ThirdParty
                Provider: GitHub
                Version: "1"
              Configuration:
                Owner: "{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-owner::}}"
                Repo: "{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-name::}}"
                Branch: "{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-branch::}}"
                OAuthToken: "{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-token::}}"
                PollForSourceChanges: false
              Name: GitHubSource
              OutputArtifacts:
                - Name: RepoSource
              RunOrder: 1
          Name: Source
        - Actions:
            - ActionTypeId:
                Category: Build
                Owner: AWS
                Provider: CodeBuild
                Version: "1"
              Configuration:
                ProjectName:
                  Ref: VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D
                EnvironmentVariables: '[{"name":"_PROJECT_CONFIG_HASH","type":"PLAINTEXT","value":"d2d94e2fb8aa2464637b2e79f39230c69b8c6a8794e68742501ef092c2d4f680"}]'
              InputArtifacts:
                - Name: RepoSource
              Name: BuildCdk
              OutputArtifacts:
                - Name: BuildOutput
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRole97890625
                  - Arn
              RunOrder: 1
          Name: Build
        - Actions:
            - ActionTypeId:
                Category: Build
                Owner: AWS
                Provider: CodeBuild
                Version: "1"
              Configuration:
                ProjectName:
                  Ref: VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD
              InputArtifacts:
                - Name: BuildOutput
              Name: SelfMutate
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRole820C780F
                  - Arn
              RunOrder: 1
          Name: UpdatePipeline
        - Actions:
            - ActionTypeId:
                Category: Build
                Owner: AWS
                Provider: CodeBuild
                Version: "1"
              Configuration:
                ProjectName:
                  Ref: BuildVue622596D1
              InputArtifacts:
                - Name: RepoSource
              Name: BuildVue
              OutputArtifacts:
                - Name: VueBuildOutput
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineBuildVueCodePipelineActionRoleA16DED7D
                  - Arn
              RunOrder: 1
          Name: BuildVue
        - Actions:
            - ActionTypeId:
                Category: Approval
                Owner: AWS
                Provider: Manual
                Version: "1"
              Configuration:
                NotificationArn:
                  Ref: ApprovalSnsTopic77044C77
                CustomData: Approve Deployment to S3 for the blue deployment group?
                ExternalEntityLink: https://github.com/{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-owner::}}/{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-name::}}
              Name: ApproveBlueDeploy
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRole00AA0639
                  - Arn
              RunOrder: 1
          Name: ApprovalBlue
        - Actions:
            - ActionTypeId:
                Category: Deploy
                Owner: AWS
                Provider: S3
                Version: "1"
              Configuration:
                BucketName:
                  Ref: BlueVueComponentsBucketDB17F084
                Extract: "true"
              InputArtifacts:
                - Name: VueBuildOutput
              Name: DeployVue
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRole907BB84E
                  - Arn
              RunOrder: 1
          Name: DeployBlue
        - Actions:
            - ActionTypeId:
                Category: Approval
                Owner: AWS
                Provider: Manual
                Version: "1"
              Configuration:
                NotificationArn:
                  Ref: ApprovalSnsTopic77044C77
                CustomData: Approve Deployment to S3 for the green deployment group?
                ExternalEntityLink: https://github.com/{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-owner::}}/{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-name::}}
              Name: ApproveDeploy
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleE1D7FE07
                  - Arn
              RunOrder: 1
          Name: ApprovalGreen
        - Actions:
            - ActionTypeId:
                Category: Deploy
                Owner: AWS
                Provider: S3
                Version: "1"
              Configuration:
                BucketName:
                  Ref: GreenVueComponentsBucket4ADF7593
                Extract: "true"
              InputArtifacts:
                - Name: VueBuildOutput
              Name: DeployVue
              RoleArn:
                Fn::GetAtt:
                  - VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRole4799E51C
                  - Arn
              RunOrder: 1
          Name: DeployGreen
      ArtifactStore:
        EncryptionKey:
          Id:
            Fn::GetAtt:
              - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
              - Arn
          Type: KMS
        Location:
          Ref: VueComponentCdkPipelineArtifactsBucket930CF222
        Type: S3
      Name: VueComponentPipeline
      RestartExecutionOnUpdate: true
    DependsOn:
      - VueComponentCdkPipelineRoleDefaultPolicy2252B39C
      - VueComponentCdkPipelineRole7DCD8800
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Resource
  VueComponentCdkPipelineSourceGitHubSourceWebhookResource10705D36:
    Type: AWS::CodePipeline::Webhook
    Properties:
      Authentication: GITHUB_HMAC
      AuthenticationConfiguration:
        SecretToken: "{{resolve:secretsmanager:GitHubSecrets:SecretString:repo-token::}}"
      Filters:
        - JsonPath: $.ref
          MatchEquals: refs/heads/{Branch}
      TargetAction: GitHubSource
      TargetPipeline:
        Ref: VueComponentCdkPipeline7ECFA9E5
      TargetPipelineVersion: 1
      RegisterWithThirdParty: true
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Source/GitHubSource/WebhookResource
  VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRole97890625:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Build/BuildCdk/CodePipelineActionRole/Resource
  VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRoleDefaultPolicyE16F0CB9:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - codebuild:BatchGetBuilds
              - codebuild:StartBuild
              - codebuild:StopBuild
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRoleDefaultPolicyE16F0CB9
      Roles:
        - Ref: VueComponentCdkPipelineBuildBuildCdkCodePipelineActionRole97890625
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Build/BuildCdk/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleA3E2BBFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codebuild.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Build/BuildCdk/CdkBuildProject/Role/Resource
  VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleDefaultPolicy6CD60E51:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:CreateLogGroup
              - logs:CreateLogStream
              - logs:PutLogEvents
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D
                    - :*
          - Action:
              - codebuild:CreateReportGroup
              - codebuild:CreateReport
              - codebuild:UpdateReport
              - codebuild:BatchPutTestCases
              - codebuild:BatchPutCodeCoverages
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - :codebuild:us-east-1:036406153779:report-group/
                  - Ref: VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D
                  - -*
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
              - s3:PutObject*
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleDefaultPolicy6CD60E51
      Roles:
        - Ref: VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleA3E2BBFB
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Build/BuildCdk/CdkBuildProject/Role/DefaultPolicy/Resource
  VueComponentCdkPipelineBuildBuildCdkCdkBuildProject0009C01D:
    Type: AWS::CodeBuild::Project
    Properties:
      Artifacts:
        Type: CODEPIPELINE
      Environment:
        ComputeType: BUILD_GENERAL1_SMALL
        EnvironmentVariables:
          - Name: NPM_CONFIG_UNSAFE_PERM
            Type: PLAINTEXT
            Value: "true"
        Image: aws/codebuild/standard:5.0
        ImagePullCredentialsType: CODEBUILD
        PrivilegedMode: false
        Type: LINUX_CONTAINER
      ServiceRole:
        Fn::GetAtt:
          - VueComponentCdkPipelineBuildBuildCdkCdkBuildProjectRoleA3E2BBFB
          - Arn
      Source:
        BuildSpec: |-
          {
            "version": "0.2",
            "phases": {
              "pre_build": {
                "commands": [
                  "cd cdk",
                  "npm ci"
                ]
              },
              "build": {
                "commands": [
                  "npm run build",
                  "npm run test",
                  "npx cdk synth"
                ]
              }
            },
            "artifacts": {
              "base-directory": "cdk/cdk.out",
              "files": "**/*"
            }
          }
        Type: CODEPIPELINE
      EncryptionKey:
        Fn::GetAtt:
          - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
          - Arn
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/Build/BuildCdk/CdkBuildProject/Resource
  VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRole820C780F:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/UpdatePipeline/SelfMutate/CodePipelineActionRole/Resource
  VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRoleDefaultPolicyE00221F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - codebuild:BatchGetBuilds
              - codebuild:StartBuild
              - codebuild:StopBuild
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRoleDefaultPolicyE00221F6
      Roles:
        - Ref: VueComponentCdkPipelineUpdatePipelineSelfMutateCodePipelineActionRole820C780F
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/UpdatePipeline/SelfMutate/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineBuildVueCodePipelineActionRoleA16DED7D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/BuildVue/BuildVue/CodePipelineActionRole/Resource
  VueComponentCdkPipelineBuildVueCodePipelineActionRoleDefaultPolicyE5EC4146:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - codebuild:BatchGetBuilds
              - codebuild:StartBuild
              - codebuild:StopBuild
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - BuildVue622596D1
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineBuildVueCodePipelineActionRoleDefaultPolicyE5EC4146
      Roles:
        - Ref: VueComponentCdkPipelineBuildVueCodePipelineActionRoleA16DED7D
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/BuildVue/BuildVue/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRole00AA0639:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ApprovalBlue/ApproveBlueDeploy/CodePipelineActionRole/Resource
  VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRoleDefaultPolicyB4DED5F2:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: sns:Publish
            Effect: Allow
            Resource:
              Ref: ApprovalSnsTopic77044C77
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRoleDefaultPolicyB4DED5F2
      Roles:
        - Ref: VueComponentCdkPipelineApprovalBlueApproveBlueDeployCodePipelineActionRole00AA0639
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ApprovalBlue/ApproveBlueDeploy/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRole907BB84E:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/DeployBlue/DeployVue/CodePipelineActionRole/Resource
  VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRoleDefaultPolicyA2342DC0:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:DeleteObject*
              - s3:PutObject*
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - BlueVueComponentsBucketDB17F084
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - BlueVueComponentsBucketDB17F084
                        - Arn
                    - /*
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRoleDefaultPolicyA2342DC0
      Roles:
        - Ref: VueComponentCdkPipelineDeployBlueDeployVueCodePipelineActionRole907BB84E
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/DeployBlue/DeployVue/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleE1D7FE07:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ApprovalGreen/ApproveDeploy/CodePipelineActionRole/Resource
  VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleDefaultPolicy3CFBDA0C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: sns:Publish
            Effect: Allow
            Resource:
              Ref: ApprovalSnsTopic77044C77
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleDefaultPolicy3CFBDA0C
      Roles:
        - Ref: VueComponentCdkPipelineApprovalGreenApproveDeployCodePipelineActionRoleE1D7FE07
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/ApprovalGreen/ApproveDeploy/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRole4799E51C:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :iam::036406153779:root
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/DeployGreen/DeployVue/CodePipelineActionRole/Resource
  VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRoleDefaultPolicy55200E08:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:DeleteObject*
              - s3:PutObject*
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - GreenVueComponentsBucket4ADF7593
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - GreenVueComponentsBucket4ADF7593
                        - Arn
                    - /*
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRoleDefaultPolicy55200E08
      Roles:
        - Ref: VueComponentCdkPipelineDeployGreenDeployVueCodePipelineActionRole4799E51C
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/Pipeline/DeployGreen/DeployVue/CodePipelineActionRole/DefaultPolicy/Resource
  VueComponentCdkPipelineUpdatePipelineSelfMutationRole3363EB94:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codebuild.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/UpdatePipeline/SelfMutation/Role/Resource
  VueComponentCdkPipelineUpdatePipelineSelfMutationRoleDefaultPolicy217900B8:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:CreateLogGroup
              - logs:CreateLogStream
              - logs:PutLogEvents
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD
                    - :*
          - Action:
              - codebuild:CreateReportGroup
              - codebuild:CreateReport
              - codebuild:UpdateReport
              - codebuild:BatchPutTestCases
              - codebuild:BatchPutCodeCoverages
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - :codebuild:us-east-1:036406153779:report-group/
                  - Ref: VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD
                  - -*
          - Action: sts:AssumeRole
            Condition:
              ForAnyValue:StringEquals:
                iam:ResourceTag/aws-cdk:bootstrap-role:
                  - image-publishing
                  - file-publishing
                  - deploy
            Effect: Allow
            Resource: arn:*:iam::036406153779:role/*
          - Action: cloudformation:DescribeStacks
            Effect: Allow
            Resource: "*"
          - Action: s3:ListBucket
            Effect: Allow
            Resource: "*"
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
        Version: "2012-10-17"
      PolicyName: VueComponentCdkPipelineUpdatePipelineSelfMutationRoleDefaultPolicy217900B8
      Roles:
        - Ref: VueComponentCdkPipelineUpdatePipelineSelfMutationRole3363EB94
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/UpdatePipeline/SelfMutation/Role/DefaultPolicy/Resource
  VueComponentCdkPipelineUpdatePipelineSelfMutationE062FFFD:
    Type: AWS::CodeBuild::Project
    Properties:
      Artifacts:
        Type: CODEPIPELINE
      Environment:
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/standard:5.0
        ImagePullCredentialsType: CODEBUILD
        PrivilegedMode: false
        Type: LINUX_CONTAINER
      ServiceRole:
        Fn::GetAtt:
          - VueComponentCdkPipelineUpdatePipelineSelfMutationRole3363EB94
          - Arn
      Source:
        BuildSpec: |-
          {
            "version": "0.2",
            "phases": {
              "install": {
                "commands": "npm install -g aws-cdk"
              },
              "build": {
                "commands": [
                  "cdk -a . deploy CdkVueApplicationPipelineStack --require-approval=never --verbose"
                ]
              }
            }
          }
        Type: CODEPIPELINE
      EncryptionKey:
        Fn::GetAtt:
          - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
          - Arn
      Name: VueComponentPipeline-selfupdate
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentCdkPipeline/UpdatePipeline/SelfMutation/Resource
  BuildVueRole30DF05E9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: codebuild.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/BuildVue/Role/Resource
  BuildVueRoleDefaultPolicyC4DD6EF6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:CreateLogGroup
              - logs:CreateLogStream
              - logs:PutLogEvents
            Effect: Allow
            Resource:
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: BuildVue622596D1
              - Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - :logs:us-east-1:036406153779:log-group:/aws/codebuild/
                    - Ref: BuildVue622596D1
                    - :*
          - Action:
              - codebuild:CreateReportGroup
              - codebuild:CreateReport
              - codebuild:UpdateReport
              - codebuild:BatchPutTestCases
              - codebuild:BatchPutCodeCoverages
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - "arn:"
                  - Ref: AWS::Partition
                  - :codebuild:us-east-1:036406153779:report-group/
                  - Ref: BuildVue622596D1
                  - -*
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
              - s3:PutObject*
              - s3:Abort*
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - VueComponentCdkPipelineArtifactsBucket930CF222
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - VueComponentCdkPipelineArtifactsBucket930CF222
                        - Arn
                    - /*
          - Action:
              - kms:Decrypt
              - kms:DescribeKey
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
          - Action:
              - kms:Decrypt
              - kms:Encrypt
              - kms:ReEncrypt*
              - kms:GenerateDataKey*
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
                - Arn
        Version: "2012-10-17"
      PolicyName: BuildVueRoleDefaultPolicyC4DD6EF6
      Roles:
        - Ref: BuildVueRole30DF05E9
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/BuildVue/Role/DefaultPolicy/Resource
  BuildVue622596D1:
    Type: AWS::CodeBuild::Project
    Properties:
      Artifacts:
        Type: CODEPIPELINE
      Environment:
        ComputeType: BUILD_GENERAL1_SMALL
        Image: aws/codebuild/amazonlinux2-x86_64-standard:3.0
        ImagePullCredentialsType: CODEBUILD
        PrivilegedMode: false
        Type: LINUX_CONTAINER
      ServiceRole:
        Fn::GetAtt:
          - BuildVueRole30DF05E9
          - Arn
      Source:
        BuildSpec: |-
          {
            "version": "0.2",
            "phases": {
              "install": {
                "runtime-versions": {
                  "nodejs": 12
                }
              },
              "pre_build": {
                "commands": [
                  "cd vue-web-component-app",
                  "npm install"
                ]
              },
              "build": {
                "commands": [
                  "npm run lint",
                  "npm run test",
                  "npm run build",
                  "cp public/* dist"
                ]
              }
            },
            "artifacts": {
              "files": [
                "**/*"
              ],
              "base-directory": "vue-web-component-app/dist"
            }
          }
        Type: CODEPIPELINE
      EncryptionKey:
        Fn::GetAtt:
          - VueComponentCdkPipelineArtifactsBucketEncryptionKey39CC6929
          - Arn
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/BuildVue/Resource
  BlueVueComponentsBucketDB17F084:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: blue-vue-component-bucket-us-east-1-036406153779
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/BlueVueComponentsBucket/Resource
  BlueVueComponentsBucketPolicy7F933E8E:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: BlueVueComponentsBucketDB17F084
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Principal:
              CanonicalUser:
                Fn::GetAtt:
                  - OriginAccessIdentityDF1E3CAC
                  - S3CanonicalUserId
            Resource:
              - Fn::GetAtt:
                  - BlueVueComponentsBucketDB17F084
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - BlueVueComponentsBucketDB17F084
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/BlueVueComponentsBucket/Policy/Resource
  GreenVueComponentsBucket4ADF7593:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: green-vue-component-bucket-us-east-1-036406153779
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/GreenVueComponentsBucket/Resource
  GreenVueComponentsBucketPolicy1C4F9707:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: GreenVueComponentsBucket4ADF7593
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetObject*
              - s3:GetBucket*
              - s3:List*
            Effect: Allow
            Principal:
              CanonicalUser:
                Fn::GetAtt:
                  - OriginAccessIdentityDF1E3CAC
                  - S3CanonicalUserId
            Resource:
              - Fn::GetAtt:
                  - GreenVueComponentsBucket4ADF7593
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - GreenVueComponentsBucket4ADF7593
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/GreenVueComponentsBucket/Policy/Resource
  OriginAccessIdentityDF1E3CAC:
    Type: AWS::CloudFront::CloudFrontOriginAccessIdentity
    Properties:
      CloudFrontOriginAccessIdentityConfig:
        Comment: Origin Access Identity for Origin S3 bucket
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/OriginAccessIdentity/Resource
  ABEdgeFunctionFnServiceRole914B3166:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: edgelambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ABEdgeFunction/Fn/ServiceRole/Resource
  ABEdgeFunctionFn356E3CCA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-036406153779-us-east-1
        S3Key: 61607b05f77d0a4328973815d4ff653fa7b866e760a7e228cb92ef244f7015a0.zip
      Role:
        Fn::GetAtt:
          - ABEdgeFunctionFnServiceRole914B3166
          - Arn
      Handler: ab-lambda-function.handler
      Runtime: nodejs14.x
    DependsOn:
      - ABEdgeFunctionFnServiceRole914B3166
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ABEdgeFunction/Fn/Resource
      aws:asset:path: asset.61607b05f77d0a4328973815d4ff653fa7b866e760a7e228cb92ef244f7015a0
      aws:asset:property: Code
  ABEdgeFunctionFnCurrentVersion274F3FAA692666d520b57eccd6cc5db786e05ef3:
    Type: AWS::Lambda::Version
    Properties:
      FunctionName:
        Ref: ABEdgeFunctionFn356E3CCA
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/ABEdgeFunction/Fn/CurrentVersion/Resource
  VueComponentDistributionB0EF51E7:
    Type: AWS::CloudFront::Distribution
    Properties:
      DistributionConfig:
        CacheBehaviors:
          - CachePolicyId: 658327ea-f89d-4fab-a63d-7e88639e58f6
            Compress: true
            PathPattern: /blue/*
            TargetOriginId: CdkVueApplicationPipelineStackVueComponentDistributionOrigin2B0BCE892
            ViewerProtocolPolicy: redirect-to-https
        DefaultCacheBehavior:
          CachePolicyId: 658327ea-f89d-4fab-a63d-7e88639e58f6
          Compress: true
          LambdaFunctionAssociations:
            - EventType: viewer-request
              LambdaFunctionARN:
                Ref: ABEdgeFunctionFnCurrentVersion274F3FAA692666d520b57eccd6cc5db786e05ef3
          TargetOriginId: CdkVueApplicationPipelineStackVueComponentDistributionOrigin17B193369
          ViewerProtocolPolicy: redirect-to-https
        DefaultRootObject: index.html
        Enabled: true
        HttpVersion: http2
        IPV6Enabled: true
        Origins:
          - DomainName:
              Fn::GetAtt:
                - GreenVueComponentsBucket4ADF7593
                - RegionalDomainName
            Id: CdkVueApplicationPipelineStackVueComponentDistributionOrigin17B193369
            S3OriginConfig:
              OriginAccessIdentity:
                Fn::Join:
                  - ""
                  - - origin-access-identity/cloudfront/
                    - Ref: OriginAccessIdentityDF1E3CAC
          - DomainName:
              Fn::GetAtt:
                - BlueVueComponentsBucketDB17F084
                - RegionalDomainName
            Id: CdkVueApplicationPipelineStackVueComponentDistributionOrigin2B0BCE892
            S3OriginConfig:
              OriginAccessIdentity:
                Fn::Join:
                  - ""
                  - - origin-access-identity/cloudfront/
                    - Ref: OriginAccessIdentityDF1E3CAC
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/VueComponentDistribution/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAAE21STVPDIBD9Lb1TavTi0TTaGceDndaPM4Ft3SaBDAtqh+G/C0n6cfC07z0eLLyl4EVR8JvZg/ihuVTNIkhjgYetE7JhldHkrJeOlUTgkrhHvWfVTm+AjLcSIssbA2ni4c30KPPiCLa+Jmmxd2h0Vq95ZNIo6LGHFnVqt55Q9l3jT6i/jGkia7rU4AWOWcylbFFQJgOIjO54WHrZgMvihMayNi3K40We+EiWgtIbUHQ8bEw79BzqZdOIxgvXHlt1ue3amgPIoeMEk601Xu2s0Y6HV4spr1JKIHpWoB264cgqe1bZ868Dfnuw2CUmWv6k9rDyWg4pPmIaB9b+FOk1j6wVXa0ED2d7cpzxB1iatAnm0OYiz5X4MN7ITgNJWVeqOQ/ivVfCwYmW0+Gqyf8BYmQ6RcMPtPgu7nlxy4vZgRDn1qfndMA3Y/0DLpZSX2oCAAA=
    Metadata:
      aws:cdk:path: CdkVueApplicationPipelineStack/CDKMetadata/Default
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store.
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - "1"
                  - "2"
                  - "3"
                  - "4"
                  - "5"
                - Ref: BootstrapVersion
        AssertDescription: CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.

