Resources:
  SecurityAlarmsTopicF953A33E:
    Type: AWS::SNS::Topic
    Properties:
      TopicName: SecurityAlarms
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityAlarmsTopic/Resource
  SecurityCloudTrailAlarmServiceRoleFF969CA5:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityCloudTrailAlarm/ServiceRole/Resource
  SecurityCloudTrailAlarmF698C497:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856S3Bucket5640DE3E
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856S3VersionKey7D3C4369
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856S3VersionKey7D3C4369
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - SecurityCloudTrailAlarmServiceRoleFF969CA5
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          SLACK_PREFIX:
            Ref: SsmParameterValueSecuritySupportSlackPrefixC96584B6F00A464EAD1953AFF4B05118Parameter
          SLACK_WEBHOOKPATH:
            Ref: SsmParameterValueSecuritySupportSlackWebHookC96584B6F00A464EAD1953AFF4B05118Parameter
    DependsOn:
      - SecurityCloudTrailAlarmServiceRoleFF969CA5
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityCloudTrailAlarm/Resource
      aws:asset:path: asset.b408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856
      aws:asset:property: Code
  SecurityCloudTrailAlarmAllowInvokeSecuritySupportStackSecurityAlarmsTopic2B3604F169AE8257:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SecurityCloudTrailAlarmF698C497
          - Arn
      Principal: sns.amazonaws.com
      SourceArn:
        Ref: SecurityAlarmsTopicF953A33E
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityCloudTrailAlarm/AllowInvoke:SecuritySupportStackSecurityAlarmsTopic2B3604F1
  SecurityCloudTrailAlarmSecurityAlarmsTopic0DFB9314:
    Type: AWS::SNS::Subscription
    Properties:
      Protocol: lambda
      TopicArn:
        Ref: SecurityAlarmsTopicF953A33E
      Endpoint:
        Fn::GetAtt:
          - SecurityCloudTrailAlarmF698C497
          - Arn
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityCloudTrailAlarm/SecurityAlarmsTopic/Resource
  SecurityHubFindingsToSlackServiceRoleEC85ABC1:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityHubFindingsToSlack/ServiceRole/Resource
  SecurityHubFindingsToSlackAC6A47D3:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20S3Bucket33F6362F
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20S3VersionKey84B92D93
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20S3VersionKey84B92D93
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - SecurityHubFindingsToSlackServiceRoleEC85ABC1
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          SLACK_PREFIX:
            Ref: SsmParameterValueSecuritySupportSlackPrefixC96584B6F00A464EAD1953AFF4B05118Parameter
          SLACK_WEBHOOKPATH:
            Ref: SsmParameterValueSecuritySupportSlackWebHookC96584B6F00A464EAD1953AFF4B05118Parameter
    DependsOn:
      - SecurityHubFindingsToSlackServiceRoleEC85ABC1
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityHubFindingsToSlack/Resource
      aws:asset:path: asset.58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20
      aws:asset:property: Code
  SecurityHubFindingsToSlackAllowEventRuleSecuritySupportStackSecurityHubFindingsToSlackRule29DFE32655FA6F11:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - SecurityHubFindingsToSlackAC6A47D3
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - SecurityHubFindingsToSlackRule82BE4EE1
          - Arn
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityHubFindingsToSlack/AllowEventRuleSecuritySupportStackSecurityHubFindingsToSlackRule29DFE326
  SecurityHubFindingsToSlackRule82BE4EE1:
    Type: AWS::Events::Rule
    Properties:
      EventPattern:
        source:
          - aws.securityhub
        resources:
          - Fn::Join:
              - ""
              - - "arn:aws:securityhub:"
                - Ref: AWS::Region
                - ":"
                - Ref: AWS::AccountId
                - :action/custom/SendToSlack
      Name: SecurityHubFindingsToSlackRule
      State: ENABLED
      Targets:
        - Arn:
            Fn::GetAtt:
              - SecurityHubFindingsToSlackAC6A47D3
              - Arn
          Id: Target0
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityHubFindingsToSlackRule/Resource
  GuardDutyFindingsToSlackServiceRoleB2FEEB4E:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: SecuritySupportStack/GuardDutyFindingsToSlack/ServiceRole/Resource
  GuardDutyFindingsToSlack0AB73068:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4S3BucketFF838475
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4S3VersionKey8E1AB37B
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4S3VersionKey8E1AB37B
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - GuardDutyFindingsToSlackServiceRoleB2FEEB4E
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          SLACK_PREFIX:
            Ref: SsmParameterValueSecuritySupportSlackPrefixC96584B6F00A464EAD1953AFF4B05118Parameter
          SLACK_WEBHOOKPATH:
            Ref: SsmParameterValueSecuritySupportSlackWebHookC96584B6F00A464EAD1953AFF4B05118Parameter
    DependsOn:
      - GuardDutyFindingsToSlackServiceRoleB2FEEB4E
    Metadata:
      aws:cdk:path: SecuritySupportStack/GuardDutyFindingsToSlack/Resource
      aws:asset:path: asset.ac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4
      aws:asset:property: Code
  GuardDutyFindingsToSlackAllowEventRuleSecuritySupportStackGuardDutyFindingsToSlackRule2F0199185AF1B915:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - GuardDutyFindingsToSlack0AB73068
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - GuardDutyFindingsToSlackRuleA5C366C4
          - Arn
    Metadata:
      aws:cdk:path: SecuritySupportStack/GuardDutyFindingsToSlack/AllowEventRuleSecuritySupportStackGuardDutyFindingsToSlackRule2F019918
  GuardDutyFindingsToSlackRuleA5C366C4:
    Type: AWS::Events::Rule
    Properties:
      EventPattern:
        source:
          - aws.guardduty
      Name: GuardDutyFindingsToSlackRule
      State: ENABLED
      Targets:
        - Arn:
            Fn::GetAtt:
              - GuardDutyFindingsToSlack0AB73068
              - Arn
          Id: Target0
    Metadata:
      aws:cdk:path: SecuritySupportStack/GuardDutyFindingsToSlackRule/Resource
  CheckUsersCredentialsServiceRoleD0F4C449:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: SecuritySupportStack/CheckUsersCredentials/ServiceRole/Resource
  CheckUsersCredentialsServiceRoleDefaultPolicyC6251C3C:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - iam:listUsers
              - iam:listAccessKeys
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: CheckUsersCredentialsServiceRoleDefaultPolicyC6251C3C
      Roles:
        - Ref: CheckUsersCredentialsServiceRoleD0F4C449
    Metadata:
      aws:cdk:path: SecuritySupportStack/CheckUsersCredentials/ServiceRole/DefaultPolicy/Resource
  CheckUsersCredentials371AC77C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bS3Bucket3D20B972
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bS3VersionKey8EC5761A
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bS3VersionKey8EC5761A
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - CheckUsersCredentialsServiceRoleD0F4C449
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          SLACK_PREFIX:
            Ref: SsmParameterValueSecuritySupportSlackPrefixC96584B6F00A464EAD1953AFF4B05118Parameter
          SLACK_WEBHOOKPATH:
            Ref: SsmParameterValueSecuritySupportSlackWebHookC96584B6F00A464EAD1953AFF4B05118Parameter
    DependsOn:
      - CheckUsersCredentialsServiceRoleDefaultPolicyC6251C3C
      - CheckUsersCredentialsServiceRoleD0F4C449
    Metadata:
      aws:cdk:path: SecuritySupportStack/CheckUsersCredentials/Resource
      aws:asset:path: asset.aa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47b
      aws:asset:property: Code
  CheckUsersCredentialsAllowEventRuleSecuritySupportStackCheckUsersCredentialsRuleC7EBD4ECB0AF885B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - CheckUsersCredentials371AC77C
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - CheckUsersCredentialsRuleE12270CE
          - Arn
    Metadata:
      aws:cdk:path: SecuritySupportStack/CheckUsersCredentials/AllowEventRuleSecuritySupportStackCheckUsersCredentialsRuleC7EBD4EC
  CheckUsersCredentialsRuleE12270CE:
    Type: AWS::Events::Rule
    Properties:
      Name: CheckUsersCredentialsRule
      ScheduleExpression: cron(0 12 * * ? *)
      State: ENABLED
      Targets:
        - Arn:
            Fn::GetAtt:
              - CheckUsersCredentials371AC77C
              - Arn
          Id: Target0
    Metadata:
      aws:cdk:path: SecuritySupportStack/CheckUsersCredentialsRule/Resource
  SecurityCloudTrailAlarmSubscription616A457E:
    Type: AWS::SNS::Subscription
    Properties:
      Protocol: lambda
      TopicArn:
        Ref: SecurityAlarmsTopicF953A33E
      Endpoint:
        Fn::GetAtt:
          - SecurityCloudTrailAlarmF698C497
          - Arn
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityCloudTrailAlarmSubscription/Resource
  SecurityTrailAccessLog9CB3C98C:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: LogDeliveryWrite
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityTrailAccessLog/Resource
  SecurityTrailC2162C22:
    Type: AWS::S3::Bucket
    Properties:
      LoggingConfiguration:
        DestinationBucketName:
          Ref: SecurityTrailAccessLog9CB3C98C
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityTrail/Resource
  SecurityTrailPolicyA8B056FE:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: SecurityTrailC2162C22
      PolicyDocument:
        Statement:
          - Action: s3:GetBucketAcl
            Effect: Allow
            Principal:
              Service: cloudtrail.amazonaws.com
            Resource:
              Fn::GetAtt:
                - SecurityTrailC2162C22
                - Arn
          - Action: s3:PutObject
            Condition:
              StringEquals:
                s3:x-amz-acl: bucket-owner-full-control
            Effect: Allow
            Principal:
              Service: cloudtrail.amazonaws.com
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - SecurityTrailC2162C22
                      - Arn
                  - /AWSLogs/
                  - Ref: AWS::AccountId
                  - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityTrail/Policy/Resource
  SecurityTrailKeyC47B037A:
    Type: AWS::KMS::Key
    Properties:
      KeyPolicy:
        Statement:
          - Action:
              - kms:Create*
              - kms:Describe*
              - kms:Enable*
              - kms:List*
              - kms:Put*
              - kms:Update*
              - kms:Revoke*
              - kms:Disable*
              - kms:Get*
              - kms:Delete*
              - kms:ScheduleKeyDeletion
              - kms:CancelKeyDeletion
              - kms:GenerateDataKey
              - kms:TagResource
              - kms:UntagResource
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
            Resource: "*"
          - Action: kms:GenerateDataKey*
            Condition:
              StringLike:
                kms:EncryptionContext:aws:cloudtrail:arn:
                  Fn::Join:
                    - ""
                    - - "arn:aws:cloudtrail:*:"
                      - Ref: AWS::AccountId
                      - :trail/*
            Effect: Allow
            Principal:
              Service: cloudtrail.amazonaws.com
            Resource: "*"
        Version: "2012-10-17"
      Description: CloudTrail logs encryptation key
      EnableKeyRotation: true
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityTrailKey/Resource
  SecurityFullTrailLogGroup6595299F:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName: SecurityTrailLog
      RetentionInDays: 365
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityFullTrail/LogGroup
  SecurityFullTrailLogsRole04A30289:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: cloudtrail.amazonaws.com
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityFullTrail/LogsRole/Resource
  SecurityFullTrailLogsRoleDefaultPolicy78E6ECD4:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutLogEvents
              - logs:CreateLogStream
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - SecurityFullTrailLogGroup6595299F
                - Arn
        Version: "2012-10-17"
      PolicyName: SecurityFullTrailLogsRoleDefaultPolicy78E6ECD4
      Roles:
        - Ref: SecurityFullTrailLogsRole04A30289
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityFullTrail/LogsRole/DefaultPolicy/Resource
  SecurityFullTrailA38EEF60:
    Type: AWS::CloudTrail::Trail
    Properties:
      IsLogging: true
      S3BucketName:
        Ref: SecurityTrailC2162C22
      CloudWatchLogsLogGroupArn:
        Fn::GetAtt:
          - SecurityFullTrailLogGroup6595299F
          - Arn
      CloudWatchLogsRoleArn:
        Fn::GetAtt:
          - SecurityFullTrailLogsRole04A30289
          - Arn
      EnableLogFileValidation: true
      EventSelectors: []
      IncludeGlobalServiceEvents: true
      IsMultiRegionTrail: true
      KMSKeyId:
        Fn::GetAtt:
          - SecurityTrailKeyC47B037A
          - Arn
    DependsOn:
      - SecurityFullTrailLogsRoleDefaultPolicy78E6ECD4
      - SecurityFullTrailLogsRole04A30289
      - SecurityTrailPolicyA8B056FE
    Metadata:
      aws:cdk:path: SecuritySupportStack/SecurityFullTrail/Resource
  CIS31UnauthorizedAPICallsFilter2CF68958:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: '{($.errorCode="*UnauthorizedOperation") || ($.errorCode="AccessDenied*")}'
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.1-UnauthorizedAPICalls
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.1-UnauthorizedAPICalls/Filter/Resource
  CIS31UnauthorizedAPICallsAlarm8FE7E8EB:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.1-UnauthorizedAPICalls
      MetricName: SecurityMetric-CIS-3.1-UnauthorizedAPICalls
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.1-UnauthorizedAPICalls/Alarm/Resource
  CIS32ConsoleSigninWithoutMFAFilter7A66A562:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: '{($.eventName="ConsoleLogin") && ($.additionalEventData.MFAUsed !="Yes")}'
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.2-ConsoleSigninWithoutMFA
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.2-ConsoleSigninWithoutMFA/Filter/Resource
  CIS32ConsoleSigninWithoutMFAAlarm77BFF88C:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.2-ConsoleSigninWithoutMFA
      MetricName: SecurityMetric-CIS-3.2-ConsoleSigninWithoutMFA
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.2-ConsoleSigninWithoutMFA/Alarm/Resource
  CIS33RootAccountUsageFilterE7DDB41B:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: '{$.userIdentity.type="Root" && $.userIdentity.invokedBy NOT EXISTS && $.eventType !="AwsServiceEvent"}'
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.3-RootAccountUsage
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.3-RootAccountUsage/Filter/Resource
  CIS33RootAccountUsageAlarm71649529:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.3-RootAccountUsage
      MetricName: SecurityMetric-CIS-3.3-RootAccountUsage
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.3-RootAccountUsage/Alarm/Resource
  CIS34IAMPolicyChangesFilterB53BDDA9:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=DeleteGroupPolicy) || ($.eventName=DeleteRolePolicy) || ($.eventName=DeleteUserPolicy) || ($.eventName=PutGroupPolicy) || ($.eventName=PutRolePolicy) || ($.eventName=PutUserPolicy) || ($.eventName=CreatePolicy) || ($.eventName=DeletePolicy) || ($.eventName=CreatePolicyVersion) || ($.eventName=DeletePolicyVersion) || ($.eventName=AttachRolePolicy) || ($.eventName=DetachRolePolicy) || ($.eventName=AttachUserPolicy) || ($.eventName=DetachUserPolicy) || ($.eventName=AttachGroupPolicy) || ($.eventName=DetachGroupPolicy)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.4-IAMPolicyChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.4-IAMPolicyChanges/Filter/Resource
  CIS34IAMPolicyChangesAlarmED1B13D9:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.4-IAMPolicyChanges
      MetricName: SecurityMetric-CIS-3.4-IAMPolicyChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.4-IAMPolicyChanges/Alarm/Resource
  CIS35CloudTrailChangesFilter0F550EBF:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=CreateTrail) || ($.eventName=UpdateTrail) || ($.eventName=DeleteTrail) || ($.eventName=StartLogging) || ($.eventName=StopLogging)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.5-CloudTrailChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.5-CloudTrailChanges/Filter/Resource
  CIS35CloudTrailChangesAlarmBFAF3E70:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.5-CloudTrailChanges
      MetricName: SecurityMetric-CIS-3.5-CloudTrailChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.5-CloudTrailChanges/Alarm/Resource
  CIS36ConsoleAuthenticationFailureFilterE20586C0:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: '{($.eventName=ConsoleLogin) && ($.errorMessage="Failed authentication")}'
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.6-ConsoleAuthenticationFailure
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.6-ConsoleAuthenticationFailure/Filter/Resource
  CIS36ConsoleAuthenticationFailureAlarm3C62598F:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.6-ConsoleAuthenticationFailure
      MetricName: SecurityMetric-CIS-3.6-ConsoleAuthenticationFailure
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.6-ConsoleAuthenticationFailure/Alarm/Resource
  CIS37DisableOrDeleteCMKFilter6B6DA97B:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventSource=kms.amazonaws.com) && (($.eventName=DisableKey) || ($.eventName=ScheduleKeyDeletion))}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.7-DisableOrDeleteCMK
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.7-DisableOrDeleteCMK/Filter/Resource
  CIS37DisableOrDeleteCMKAlarm07975B2F:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.7-DisableOrDeleteCMK
      MetricName: SecurityMetric-CIS-3.7-DisableOrDeleteCMK
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.7-DisableOrDeleteCMK/Alarm/Resource
  CIS38S3BucketPolicyChangesFilter70F3F24E:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventSource=s3.amazonaws.com) && (($.eventName=PutBucketAcl) || ($.eventName=PutBucketPolicy) || ($.eventName=PutBucketCors) || ($.eventName=PutBucketLifecycle) || ($.eventName=PutBucketReplication) || ($.eventName=DeleteBucketPolicy) || ($.eventName=DeleteBucketCors) || ($.eventName=DeleteBucketLifecycle) || ($.eventName=DeleteBucketReplication))}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.8-S3BucketPolicyChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.8-S3BucketPolicyChanges/Filter/Resource
  CIS38S3BucketPolicyChangesAlarm45CD6C3B:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.8-S3BucketPolicyChanges
      MetricName: SecurityMetric-CIS-3.8-S3BucketPolicyChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.8-S3BucketPolicyChanges/Alarm/Resource
  CIS39AWSConfigChangesFilter602F9585:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventSource=config.amazonaws.com) && (($.eventName=StopConfigurationRecorder) || ($.eventName=DeleteDeliveryChannel) || ($.eventName=PutDeliveryChannel) || ($.eventName=PutConfigurationRecorder))}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.9-AWSConfigChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.9-AWSConfigChanges/Filter/Resource
  CIS39AWSConfigChangesAlarm29CAB891:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.9-AWSConfigChanges
      MetricName: SecurityMetric-CIS-3.9-AWSConfigChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.9-AWSConfigChanges/Alarm/Resource
  CIS310SecurityGroupChangesFilterD7B58D77:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=AuthorizeSecurityGroupIngress) || ($.eventName=AuthorizeSecurityGroupEgress) || ($.eventName=RevokeSecurityGroupIngress) || ($.eventName=RevokeSecurityGroupEgress) || ($.eventName=CreateSecurityGroup) || ($.eventName=DeleteSecurityGroup)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.10-SecurityGroupChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.10-SecurityGroupChanges/Filter/Resource
  CIS310SecurityGroupChangesAlarm11FC9CA6:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.10-SecurityGroupChanges
      MetricName: SecurityMetric-CIS-3.10-SecurityGroupChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.10-SecurityGroupChanges/Alarm/Resource
  CIS311NetworkACLChangesFilter8CF4ABF1:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=CreateNetworkAcl) || ($.eventName=CreateNetworkAclEntry) || ($.eventName=DeleteNetworkAcl) || ($.eventName=DeleteNetworkAclEntry) || ($.eventName=ReplaceNetworkAclEntry) || ($.eventName=ReplaceNetworkAclAssociation)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.11-NetworkACLChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.11-NetworkACLChanges/Filter/Resource
  CIS311NetworkACLChangesAlarmBC521EC0:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.11-NetworkACLChanges
      MetricName: SecurityMetric-CIS-3.11-NetworkACLChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.11-NetworkACLChanges/Alarm/Resource
  CIS312NetworkGatewayChangesFilterDF21C707:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=CreateCustomerGateway) || ($.eventName=DeleteCustomerGateway) || ($.eventName=AttachInternetGateway) || ($.eventName=CreateInternetGateway) || ($.eventName=DeleteInternetGateway) || ($.eventName=DetachInternetGateway)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.12-NetworkGatewayChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.12-NetworkGatewayChanges/Filter/Resource
  CIS312NetworkGatewayChangesAlarm25D1186A:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.12-NetworkGatewayChanges
      MetricName: SecurityMetric-CIS-3.12-NetworkGatewayChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.12-NetworkGatewayChanges/Alarm/Resource
  CIS313RouteTableChangesFilter106D6114:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=CreateRoute) || ($.eventName=CreateRouteTable) || ($.eventName=ReplaceRoute) || ($.eventName=ReplaceRouteTableAssociation) || ($.eventName=DeleteRouteTable) || ($.eventName=DeleteRoute) || ($.eventName=DisassociateRouteTable)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.13-RouteTableChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.13-RouteTableChanges/Filter/Resource
  CIS313RouteTableChangesAlarmB1BB0DC2:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.13-RouteTableChanges
      MetricName: SecurityMetric-CIS-3.13-RouteTableChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.13-RouteTableChanges/Alarm/Resource
  CIS314VPCChangesFilterFE77931B:
    Type: AWS::Logs::MetricFilter
    Properties:
      FilterPattern: "{($.eventName=CreateVpc) || ($.eventName=DeleteVpc) || ($.eventName=ModifyVpcAttribute) || ($.eventName=AcceptVpcPeeringConnection) || ($.eventName=CreateVpcPeeringConnection) || ($.eventName=DeleteVpcPeeringConnection) || ($.eventName=RejectVpcPeeringConnection) || ($.eventName=AttachClassicLinkVpc) || ($.eventName=DetachClassicLinkVpc) || ($.eventName=DisableVpcClassicLink) || ($.eventName=EnableVpcClassicLink)}"
      LogGroupName: SecurityTrailLog
      MetricTransformations:
        - MetricName: SecurityMetric-CIS-3.14-VPCChanges
          MetricNamespace: LogMetrics
          MetricValue: "1"
    DependsOn:
      - SecurityFullTrailLogGroup6595299F
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.14-VPCChanges/Filter/Resource
  CIS314VPCChangesAlarmC7C0315F:
    Type: AWS::CloudWatch::Alarm
    Properties:
      ComparisonOperator: GreaterThanThreshold
      EvaluationPeriods: 1
      AlarmActions:
        - Ref: SecurityAlarmsTopicF953A33E
      AlarmName: SecurityAlarm-CIS-3.14-VPCChanges
      MetricName: SecurityMetric-CIS-3.14-VPCChanges
      Namespace: LogMetrics
      Period: 60
      Statistic: Sum
      Threshold: 0
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: SecuritySupportStack/CIS-3.14-VPCChanges/Alarm/Resource
  SupportAccess56AF05C7:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              AWS:
                Fn::Join:
                  - ""
                  - - "arn:"
                    - Ref: AWS::Partition
                    - ":iam::"
                    - Ref: AWS::AccountId
                    - :root
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/AWSSupportAccess
      RoleName: SupportAccess
    Metadata:
      aws:cdk:path: SecuritySupportStack/SupportAccess/Resource
  HealthReadOnly0BAA8A93:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      PolicyDocument:
        Statement:
          - Action: health:Describe*
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      Description: ""
      ManagedPolicyName: HealthReadOnly
      Path: /
    Metadata:
      aws:cdk:path: SecuritySupportStack/HealthReadOnly/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Modules: aws-cdk=2.113.0,@aws-cdk/assets=1.36.0,@aws-cdk/aws-apigateway=1.36.0,@aws-cdk/aws-applicationautoscaling=1.36.0,@aws-cdk/aws-autoscaling=1.36.0,@aws-cdk/aws-autoscaling-common=1.36.0,@aws-cdk/aws-autoscaling-hooktargets=1.36.0,@aws-cdk/aws-cloudtrail=1.36.0,@aws-cdk/aws-cloudwatch=1.36.0,@aws-cdk/aws-cloudwatch-actions=1.36.0,@aws-cdk/aws-ec2=1.36.0,@aws-cdk/aws-ecr=1.36.0,@aws-cdk/aws-ecr-assets=1.36.0,@aws-cdk/aws-ecs=1.36.0,@aws-cdk/aws-elasticloadbalancingv2=1.36.0,@aws-cdk/aws-events=1.36.0,@aws-cdk/aws-events-targets=1.36.0,@aws-cdk/aws-iam=1.36.0,@aws-cdk/aws-kms=1.36.0,@aws-cdk/aws-lambda=1.36.0,@aws-cdk/aws-lambda-event-sources=1.36.0,@aws-cdk/aws-logs=1.36.0,@aws-cdk/aws-s3=1.36.0,@aws-cdk/aws-s3-assets=1.36.0,@aws-cdk/aws-s3-notifications=1.36.0,@aws-cdk/aws-servicediscovery=1.36.0,@aws-cdk/aws-sns=1.36.0,@aws-cdk/aws-sns-subscriptions=1.36.0,@aws-cdk/aws-sqs=1.36.0,@aws-cdk/aws-ssm=1.36.0,@aws-cdk/cloud-assembly-schema=1.36.0,@aws-cdk/core=1.36.0,@aws-cdk/cx-api=1.36.0,@aws-cdk/region-info=1.36.0,jsii-runtime=node.js/v18.12.1
    Condition: CDKMetadataAvailable
Parameters:
  SsmParameterValueSecuritySupportSlackPrefixC96584B6F00A464EAD1953AFF4B05118Parameter:
    Type: AWS::SSM::Parameter::Value<String>
    Default: SecuritySupport_SlackPrefix
  SsmParameterValueSecuritySupportSlackWebHookC96584B6F00A464EAD1953AFF4B05118Parameter:
    Type: AWS::SSM::Parameter::Value<String>
    Default: SecuritySupport_SlackWebHook
  AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856S3Bucket5640DE3E:
    Type: String
    Description: S3 bucket for asset "b408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856"
  AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856S3VersionKey7D3C4369:
    Type: String
    Description: S3 key for asset version "b408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856"
  AssetParametersb408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856ArtifactHash6BB048F2:
    Type: String
    Description: Artifact hash for asset "b408c009d874a118f7af9d52fa03cd5874d2679490530a6a9a3a630bb33e4856"
  AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20S3Bucket33F6362F:
    Type: String
    Description: S3 bucket for asset "58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20"
  AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20S3VersionKey84B92D93:
    Type: String
    Description: S3 key for asset version "58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20"
  AssetParameters58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20ArtifactHash1E8600C6:
    Type: String
    Description: Artifact hash for asset "58fdb9bf1804e09694c7719e59e18b8c09162b5133237880b559b5ef992f6a20"
  AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4S3BucketFF838475:
    Type: String
    Description: S3 bucket for asset "ac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4"
  AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4S3VersionKey8E1AB37B:
    Type: String
    Description: S3 key for asset version "ac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4"
  AssetParametersac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4ArtifactHash81149CBF:
    Type: String
    Description: Artifact hash for asset "ac9488cabef97623097ab1ada84cf922cb5183886dba2841015699909061b6e4"
  AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bS3Bucket3D20B972:
    Type: String
    Description: S3 bucket for asset "aa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47b"
  AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bS3VersionKey8EC5761A:
    Type: String
    Description: S3 key for asset version "aa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47b"
  AssetParametersaa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47bArtifactHash2314F57C:
    Type: String
    Description: Artifact hash for asset "aa99fc7fb8a7e14a0ce9ee850fbbbf56a94af964247f60a9f99b81ab3a1cc47b"
Conditions:
  CDKMetadataAvailable:
    Fn::Or:
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - af-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-northeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-1
          - Fn::Equals:
              - Ref: AWS::Region
              - ap-southeast-2
          - Fn::Equals:
              - Ref: AWS::Region
              - ca-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - cn-northwest-1
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-north-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-2
          - Fn::Equals:
              - Ref: AWS::Region
              - eu-west-3
          - Fn::Equals:
              - Ref: AWS::Region
              - il-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-central-1
          - Fn::Equals:
              - Ref: AWS::Region
              - me-south-1
          - Fn::Equals:
              - Ref: AWS::Region
              - sa-east-1
      - Fn::Or:
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-east-2
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-1
          - Fn::Equals:
              - Ref: AWS::Region
              - us-west-2

