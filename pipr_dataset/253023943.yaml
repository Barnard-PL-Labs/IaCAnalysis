Resources:
  mongoSecretsD9C2B9AD:
    Type: AWS::SecretsManager::Secret
    Properties:
      Description: mongodb authentication credentials
      GenerateSecretString:
        GenerateStringKey: _id
        SecretStringTemplate: '{"MONGO_USERNAME":"","MONGO_PASSWORD":"","MONGO_URL":""}'
      Name: MONGO_SECRETS
    Metadata:
      aws:cdk:path: helpisblind/mongoSecrets/Resource
  hostBucket9A567DEA:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: www.helpisblind.se
      WebsiteConfiguration:
        ErrorDocument: index.html
        IndexDocument: index.html
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: helpisblind/hostBucket/Resource
  hostBucketPolicy3E3F979B:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: hostBucket9A567DEA
      PolicyDocument:
        Statement:
          - Action: s3:GetObject
            Effect: Allow
            Principal: "*"
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - hostBucket9A567DEA
                      - Arn
                  - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: helpisblind/hostBucket/Policy/Resource
  helpisblindapi5C8BFEED:
    Type: AWS::ApiGateway::RestApi
    Properties:
      Name: helpisblind-api
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Resource
  helpisblindapiDeploymentA8CC78D613fc515a0b447be605e05c47e9f77ff2:
    Type: AWS::ApiGateway::Deployment
    Properties:
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      Description: Automatically created by the RestApi construct
    DependsOn:
      - helpisblindapidonationsidGET7FD1D7D6
      - helpisblindapidonationsidOPTIONSDEAABDC4
      - helpisblindapidonationsid5BC5827F
      - helpisblindapidonationsOPTIONSF8007F8D
      - helpisblindapidonationsPOST6E51B89E
      - helpisblindapidonationsE7F4F006
      - helpisblindapifundraisingsGET46F07D12
      - helpisblindapifundraisingsmessagesidGET9539A84D
      - helpisblindapifundraisingsmessagesidOPTIONSBD45B2D8
      - helpisblindapifundraisingsmessagesidC64BEE63
      - helpisblindapifundraisingsmessagesOPTIONS5F4614C3
      - helpisblindapifundraisingsmessagesA3D35B44
      - helpisblindapifundraisingsOPTIONSD3FD05D0
      - helpisblindapifundraisingsPOST1FB668DD
      - helpisblindapifundraisingsF3F0941C
      - helpisblindapiOPTIONSF83DB828
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Deployment/Resource
  helpisblindapiDeploymentStageprod0D54B71F:
    Type: AWS::ApiGateway::Stage
    Properties:
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      DeploymentId:
        Ref: helpisblindapiDeploymentA8CC78D613fc515a0b447be605e05c47e9f77ff2
      StageName: prod
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/DeploymentStage.prod/Resource
  helpisblindapiCloudWatchRole9A91D0C0:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: apigateway.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/CloudWatchRole/Resource
  helpisblindapiAccount22A42D06:
    Type: AWS::ApiGateway::Account
    Properties:
      CloudWatchRoleArn:
        Fn::GetAtt:
          - helpisblindapiCloudWatchRole9A91D0C0
          - Arn
    DependsOn:
      - helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Account
  helpisblindapiOPTIONSF83DB828:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Fn::GetAtt:
          - helpisblindapi5C8BFEED
          - RootResourceId
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/OPTIONS/Resource
  helpisblindapifundraisingsF3F0941C:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - helpisblindapi5C8BFEED
          - RootResourceId
      PathPart: fundraisings
      RestApiId:
        Ref: helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/Resource
  helpisblindapifundraisingsOPTIONSD3FD05D0:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: helpisblindapifundraisingsF3F0941C
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/OPTIONS/Resource
  helpisblindapifundraisingsPOSTApiPermissionhelpisblindhelpisblindapi8D508059POSTfundraisingsDDAF4C32:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - addFundraising27D25E61
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /
            - Ref: helpisblindapiDeploymentStageprod0D54B71F
            - /POST/fundraisings
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/POST/ApiPermission.helpisblindhelpisblindapi8D508059.POST..fundraisings
  helpisblindapifundraisingsPOSTApiPermissionTesthelpisblindhelpisblindapi8D508059POSTfundraisings7F5C670D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - addFundraising27D25E61
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /test-invoke-stage/POST/fundraisings
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/POST/ApiPermission.Test.helpisblindhelpisblindapi8D508059.POST..fundraisings
  helpisblindapifundraisingsPOST1FB668DD:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: POST
      ResourceId:
        Ref: helpisblindapifundraisingsF3F0941C
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :apigateway:eu-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - addFundraising27D25E61
                  - Arn
              - /invocations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/POST/Resource
  helpisblindapifundraisingsGETApiPermissionhelpisblindhelpisblindapi8D508059GETfundraisingsFBAF86D3:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getRandomFundraisingEE02F7CA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /
            - Ref: helpisblindapiDeploymentStageprod0D54B71F
            - /GET/fundraisings
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/GET/ApiPermission.helpisblindhelpisblindapi8D508059.GET..fundraisings
  helpisblindapifundraisingsGETApiPermissionTesthelpisblindhelpisblindapi8D508059GETfundraisingsA7F0031F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getRandomFundraisingEE02F7CA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /test-invoke-stage/GET/fundraisings
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/GET/ApiPermission.Test.helpisblindhelpisblindapi8D508059.GET..fundraisings
  helpisblindapifundraisingsGET46F07D12:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: GET
      ResourceId:
        Ref: helpisblindapifundraisingsF3F0941C
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :apigateway:eu-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - getRandomFundraisingEE02F7CA
                  - Arn
              - /invocations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/GET/Resource
  helpisblindapifundraisingsmessagesA3D35B44:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: helpisblindapifundraisingsF3F0941C
      PathPart: messages
      RestApiId:
        Ref: helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/Resource
  helpisblindapifundraisingsmessagesOPTIONS5F4614C3:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: helpisblindapifundraisingsmessagesA3D35B44
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/OPTIONS/Resource
  helpisblindapifundraisingsmessagesidC64BEE63:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: helpisblindapifundraisingsmessagesA3D35B44
      PathPart: "{id}"
      RestApiId:
        Ref: helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/{id}/Resource
  helpisblindapifundraisingsmessagesidOPTIONSBD45B2D8:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: helpisblindapifundraisingsmessagesidC64BEE63
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/{id}/OPTIONS/Resource
  helpisblindapifundraisingsmessagesidGETApiPermissionhelpisblindhelpisblindapi8D508059GETfundraisingsmessagesidBF1BBD64:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getFundraisingMessagesById383AE18D
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /
            - Ref: helpisblindapiDeploymentStageprod0D54B71F
            - /GET/fundraisings/messages/{id}
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/{id}/GET/ApiPermission.helpisblindhelpisblindapi8D508059.GET..fundraisings.messages.{id}
  helpisblindapifundraisingsmessagesidGETApiPermissionTesthelpisblindhelpisblindapi8D508059GETfundraisingsmessagesid67435431:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getFundraisingMessagesById383AE18D
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /test-invoke-stage/GET/fundraisings/messages/{id}
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/{id}/GET/ApiPermission.Test.helpisblindhelpisblindapi8D508059.GET..fundraisings.messages.{id}
  helpisblindapifundraisingsmessagesidGET9539A84D:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: GET
      ResourceId:
        Ref: helpisblindapifundraisingsmessagesidC64BEE63
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :apigateway:eu-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - getFundraisingMessagesById383AE18D
                  - Arn
              - /invocations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/fundraisings/messages/{id}/GET/Resource
  helpisblindapidonationsE7F4F006:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - helpisblindapi5C8BFEED
          - RootResourceId
      PathPart: donations
      RestApiId:
        Ref: helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/Resource
  helpisblindapidonationsOPTIONSF8007F8D:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: helpisblindapidonationsE7F4F006
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/OPTIONS/Resource
  helpisblindapidonationsPOSTApiPermissionhelpisblindhelpisblindapi8D508059POSTdonations61523FCD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - addDonationE84FB0FB
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /
            - Ref: helpisblindapiDeploymentStageprod0D54B71F
            - /POST/donations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/POST/ApiPermission.helpisblindhelpisblindapi8D508059.POST..donations
  helpisblindapidonationsPOSTApiPermissionTesthelpisblindhelpisblindapi8D508059POSTdonationsA92ABEEE:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - addDonationE84FB0FB
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /test-invoke-stage/POST/donations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/POST/ApiPermission.Test.helpisblindhelpisblindapi8D508059.POST..donations
  helpisblindapidonationsPOST6E51B89E:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: POST
      ResourceId:
        Ref: helpisblindapidonationsE7F4F006
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :apigateway:eu-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - addDonationE84FB0FB
                  - Arn
              - /invocations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/POST/Resource
  helpisblindapidonationsid5BC5827F:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: helpisblindapidonationsE7F4F006
      PathPart: "{id}"
      RestApiId:
        Ref: helpisblindapi5C8BFEED
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/{id}/Resource
  helpisblindapidonationsidOPTIONSDEAABDC4:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: OPTIONS
      ResourceId:
        Ref: helpisblindapidonationsid5BC5827F
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'*'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
          StatusCode: "204"
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/{id}/OPTIONS/Resource
  helpisblindapidonationsidGETApiPermissionhelpisblindhelpisblindapi8D508059GETdonationsidA08A25F8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getDonationByIdD12A6F25
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /
            - Ref: helpisblindapiDeploymentStageprod0D54B71F
            - /GET/donations/{id}
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/{id}/GET/ApiPermission.helpisblindhelpisblindapi8D508059.GET..donations.{id}
  helpisblindapidonationsidGETApiPermissionTesthelpisblindhelpisblindapi8D508059GETdonationsidEF3FC60B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - getDonationByIdD12A6F25
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:"
            - Ref: AWS::Partition
            - ":execute-api:eu-west-1:072324662457:"
            - Ref: helpisblindapi5C8BFEED
            - /test-invoke-stage/GET/donations/{id}
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/{id}/GET/ApiPermission.Test.helpisblindhelpisblindapi8D508059.GET..donations.{id}
  helpisblindapidonationsidGET7FD1D7D6:
    Type: AWS::ApiGateway::Method
    Properties:
      HttpMethod: GET
      ResourceId:
        Ref: helpisblindapidonationsid5BC5827F
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      AuthorizationType: NONE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :apigateway:eu-west-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - getDonationByIdD12A6F25
                  - Arn
              - /invocations
    Metadata:
      aws:cdk:path: helpisblind/helpisblind-api/Default/donations/{id}/GET/Resource
  domainFBFFA2F6:
    Type: AWS::ApiGateway::DomainName
    Properties:
      DomainName: api.helpisblind.se
      EndpointConfiguration:
        Types:
          - REGIONAL
      RegionalCertificateArn: arn:aws:acm:eu-west-1:072324662457:certificate/c70f1fda-b927-49b7-8fc6-60e2f7b8c53a
      SecurityPolicy: TLS_1_2
    Metadata:
      aws:cdk:path: helpisblind/domain/Resource
  domainMaphelpisblindhelpisblindapi8D50805930D94103:
    Type: AWS::ApiGateway::BasePathMapping
    Properties:
      DomainName:
        Ref: domainFBFFA2F6
      RestApiId:
        Ref: helpisblindapi5C8BFEED
      Stage:
        Ref: helpisblindapiDeploymentStageprod0D54B71F
    Metadata:
      aws:cdk:path: helpisblind/domain/Map:--=>helpisblindhelpisblindapi8D508059/Resource
  addFundraisingServiceRole70022061:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: helpisblind/addFundraising/ServiceRole/Resource
  addFundraisingServiceRoleDefaultPolicy0125028E:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: "*"
          - Action: secretsmanager:GetSecretValue
            Effect: Allow
            Resource:
              Ref: mongoSecretsD9C2B9AD
        Version: "2012-10-17"
      PolicyName: addFundraisingServiceRoleDefaultPolicy0125028E
      Roles:
        - Ref: addFundraisingServiceRole70022061
    Metadata:
      aws:cdk:path: helpisblind/addFundraising/ServiceRole/DefaultPolicy/Resource
  addFundraising27D25E61:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9S3BucketB1DB94A9
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9S3VersionKey7D373749
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9S3VersionKey7D373749
      Handler: index.addFundraising
      Role:
        Fn::GetAtt:
          - addFundraisingServiceRole70022061
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          MONGO_SECRET_NAME: MONGO_SECRETS
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - addFundraisingServiceRoleDefaultPolicy0125028E
      - addFundraisingServiceRole70022061
    Metadata:
      aws:cdk:path: helpisblind/addFundraising/Resource
      aws:asset:path: asset.8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9
      aws:asset:property: Code
  getRandomFundraisingServiceRole3CFFDF5A:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: helpisblind/getRandomFundraising/ServiceRole/Resource
  getRandomFundraisingServiceRoleDefaultPolicyB12403EF:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: "*"
          - Action: secretsmanager:GetSecretValue
            Effect: Allow
            Resource:
              Ref: mongoSecretsD9C2B9AD
        Version: "2012-10-17"
      PolicyName: getRandomFundraisingServiceRoleDefaultPolicyB12403EF
      Roles:
        - Ref: getRandomFundraisingServiceRole3CFFDF5A
    Metadata:
      aws:cdk:path: helpisblind/getRandomFundraising/ServiceRole/DefaultPolicy/Resource
  getRandomFundraisingEE02F7CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496S3BucketD52BC828
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496S3VersionKey8C625C64
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496S3VersionKey8C625C64
      Handler: index.getRandomFundraising
      Role:
        Fn::GetAtt:
          - getRandomFundraisingServiceRole3CFFDF5A
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          MONGO_SECRET_NAME: MONGO_SECRETS
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - getRandomFundraisingServiceRoleDefaultPolicyB12403EF
      - getRandomFundraisingServiceRole3CFFDF5A
    Metadata:
      aws:cdk:path: helpisblind/getRandomFundraising/Resource
      aws:asset:path: asset.6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496
      aws:asset:property: Code
  getFundraisingMessagesByIdServiceRoleCB2C0417:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: helpisblind/getFundraisingMessagesById/ServiceRole/Resource
  getFundraisingMessagesByIdServiceRoleDefaultPolicyBEB606DE:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: "*"
          - Action: secretsmanager:GetSecretValue
            Effect: Allow
            Resource:
              Ref: mongoSecretsD9C2B9AD
        Version: "2012-10-17"
      PolicyName: getFundraisingMessagesByIdServiceRoleDefaultPolicyBEB606DE
      Roles:
        - Ref: getFundraisingMessagesByIdServiceRoleCB2C0417
    Metadata:
      aws:cdk:path: helpisblind/getFundraisingMessagesById/ServiceRole/DefaultPolicy/Resource
  getFundraisingMessagesById383AE18D:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cS3Bucket4DEEBB9B
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cS3VersionKey928DEAF5
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cS3VersionKey928DEAF5
      Handler: index.getFundraisingMessagesById
      Role:
        Fn::GetAtt:
          - getFundraisingMessagesByIdServiceRoleCB2C0417
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          MONGO_SECRET_NAME: MONGO_SECRETS
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - getFundraisingMessagesByIdServiceRoleDefaultPolicyBEB606DE
      - getFundraisingMessagesByIdServiceRoleCB2C0417
    Metadata:
      aws:cdk:path: helpisblind/getFundraisingMessagesById/Resource
      aws:asset:path: asset.fe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2c
      aws:asset:property: Code
  addDonationServiceRole2C7D4C25:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: helpisblind/addDonation/ServiceRole/Resource
  addDonationServiceRoleDefaultPolicy4AA5B959:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: "*"
          - Action: secretsmanager:GetSecretValue
            Effect: Allow
            Resource:
              Ref: mongoSecretsD9C2B9AD
        Version: "2012-10-17"
      PolicyName: addDonationServiceRoleDefaultPolicy4AA5B959
      Roles:
        - Ref: addDonationServiceRole2C7D4C25
    Metadata:
      aws:cdk:path: helpisblind/addDonation/ServiceRole/DefaultPolicy/Resource
  addDonationE84FB0FB:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecS3BucketB0F32839
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecS3VersionKey45AB041F
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecS3VersionKey45AB041F
      Handler: index.addDonation
      Role:
        Fn::GetAtt:
          - addDonationServiceRole2C7D4C25
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          MONGO_SECRET_NAME: MONGO_SECRETS
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - addDonationServiceRoleDefaultPolicy4AA5B959
      - addDonationServiceRole2C7D4C25
    Metadata:
      aws:cdk:path: helpisblind/addDonation/Resource
      aws:asset:path: asset.b4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aec
      aws:asset:property: Code
  getDonationByIdServiceRoleFDC510E6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: helpisblind/getDonationById/ServiceRole/Resource
  getDonationByIdServiceRoleDefaultPolicy0D70CB11:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: "*"
          - Action: secretsmanager:GetSecretValue
            Effect: Allow
            Resource:
              Ref: mongoSecretsD9C2B9AD
        Version: "2012-10-17"
      PolicyName: getDonationByIdServiceRoleDefaultPolicy0D70CB11
      Roles:
        - Ref: getDonationByIdServiceRoleFDC510E6
    Metadata:
      aws:cdk:path: helpisblind/getDonationById/ServiceRole/DefaultPolicy/Resource
  getDonationByIdD12A6F25:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket:
          Ref: AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04S3Bucket332D7240
        S3Key:
          Fn::Join:
            - ""
            - - Fn::Select:
                  - 0
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04S3VersionKey6507F7C8
              - Fn::Select:
                  - 1
                  - Fn::Split:
                      - "||"
                      - Ref: AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04S3VersionKey6507F7C8
      Handler: index.getDonationById
      Role:
        Fn::GetAtt:
          - getDonationByIdServiceRoleFDC510E6
          - Arn
      Runtime: nodejs12.x
      Environment:
        Variables:
          MONGO_SECRET_NAME: MONGO_SECRETS
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - getDonationByIdServiceRoleDefaultPolicy0D70CB11
      - getDonationByIdServiceRoleFDC510E6
    Metadata:
      aws:cdk:path: helpisblind/getDonationById/Resource
      aws:asset:path: asset.e10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04
      aws:asset:property: Code
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Modules: aws-cdk=2.113.0,@aws-cdk/assets=1.31.0,@aws-cdk/aws-apigateway=1.31.0,@aws-cdk/aws-certificatemanager=1.31.0,@aws-cdk/aws-cloudformation=1.31.0,@aws-cdk/aws-cloudwatch=1.31.0,@aws-cdk/aws-ec2=1.31.0,@aws-cdk/aws-events=1.31.0,@aws-cdk/aws-iam=1.31.0,@aws-cdk/aws-kms=1.31.0,@aws-cdk/aws-lambda=1.31.0,@aws-cdk/aws-logs=1.31.0,@aws-cdk/aws-route53=1.31.0,@aws-cdk/aws-route53-targets=1.31.0,@aws-cdk/aws-s3=1.31.0,@aws-cdk/aws-s3-assets=1.31.0,@aws-cdk/aws-sam=1.31.0,@aws-cdk/aws-secretsmanager=1.31.0,@aws-cdk/aws-sqs=1.31.0,@aws-cdk/aws-ssm=1.31.0,@aws-cdk/core=1.31.0,@aws-cdk/cx-api=1.31.0,@aws-cdk/region-info=1.31.0,jsii-runtime=node.js/v18.12.1
Outputs:
  helpisblindapiEndpoint15DBA051:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: helpisblindapi5C8BFEED
          - .execute-api.eu-west-1.
          - Ref: AWS::URLSuffix
          - /
          - Ref: helpisblindapiDeploymentStageprod0D54B71F
          - /
Parameters:
  AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9S3BucketB1DB94A9:
    Type: String
    Description: S3 bucket for asset "8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9"
  AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9S3VersionKey7D373749:
    Type: String
    Description: S3 key for asset version "8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9"
  AssetParameters8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9ArtifactHashBB4FABC3:
    Type: String
    Description: Artifact hash for asset "8a179a54f898f990aa2323d101103405bbca3f0ce1737d797365e10b5e361ec9"
  AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496S3BucketD52BC828:
    Type: String
    Description: S3 bucket for asset "6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496"
  AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496S3VersionKey8C625C64:
    Type: String
    Description: S3 key for asset version "6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496"
  AssetParameters6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496ArtifactHashA1A3524E:
    Type: String
    Description: Artifact hash for asset "6bb7f6467859f8b267301b645d67f044edad0d2b529e650ca529aeb59afa4496"
  AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cS3Bucket4DEEBB9B:
    Type: String
    Description: S3 bucket for asset "fe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2c"
  AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cS3VersionKey928DEAF5:
    Type: String
    Description: S3 key for asset version "fe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2c"
  AssetParametersfe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2cArtifactHash4B7895F2:
    Type: String
    Description: Artifact hash for asset "fe16639bd4338bac2b24f87337a8ea7d2ade2d7c3a2f74353eb7ecbb29b3aa2c"
  AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecS3BucketB0F32839:
    Type: String
    Description: S3 bucket for asset "b4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aec"
  AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecS3VersionKey45AB041F:
    Type: String
    Description: S3 key for asset version "b4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aec"
  AssetParametersb4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aecArtifactHashA49A3779:
    Type: String
    Description: Artifact hash for asset "b4c64e61ae64db0b7cb3d608e7ab679277d654c836b6c7f89b59d1997aeb9aec"
  AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04S3Bucket332D7240:
    Type: String
    Description: S3 bucket for asset "e10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04"
  AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04S3VersionKey6507F7C8:
    Type: String
    Description: S3 key for asset version "e10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04"
  AssetParameterse10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04ArtifactHash450C04F0:
    Type: String
    Description: Artifact hash for asset "e10d87b7ec7e108aa9cb9b3e1a374dca37819f73b65acf36455517be7672fb04"

